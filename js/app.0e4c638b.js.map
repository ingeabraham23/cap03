{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?509d","webpack:///./src/components/Principal.vue?3841","webpack:///./src/components/Rutas.vue?25b4","webpack:///./src/components/ConfirmarEliminacionRuta.vue?54e3","webpack:///src/components/ConfirmarEliminacionRuta.vue","webpack:///./src/components/ConfirmarEliminacionRuta.vue?1d91","webpack:///./src/components/ConfirmarEliminacionRuta.vue","webpack:///./src/components/AgregarRuta.vue?4637","webpack:///./src/BaseDeDatos.js","webpack:///./src/Utiles.js","webpack:///./src/Constantes.js","webpack:///./src/HorariosService.js","webpack:///./src/RutasService.js","webpack:///src/components/AgregarRuta.vue","webpack:///./src/components/AgregarRuta.vue?461f","webpack:///./src/components/AgregarRuta.vue","webpack:///src/components/Rutas.vue","webpack:///./src/components/Rutas.vue?487a","webpack:///./src/components/Rutas.vue","webpack:///./src/components/Horarios.vue?b346","webpack:///./src/components/DialogoAgregarHorario.vue?0bcc","webpack:///src/components/DialogoAgregarHorario.vue","webpack:///./src/components/DialogoAgregarHorario.vue?0399","webpack:///./src/components/DialogoAgregarHorario.vue","webpack:///./src/components/TipoTransporte.vue?bcce","webpack:///src/components/TipoTransporte.vue","webpack:///./src/components/TipoTransporte.vue?09cd","webpack:///./src/components/TipoTransporte.vue","webpack:///src/components/Horarios.vue","webpack:///./src/components/Horarios.vue?b40d","webpack:///./src/components/Horarios.vue","webpack:///./src/components/Reportes.vue?1b49","webpack:///src/components/Reportes.vue","webpack:///./src/components/Reportes.vue?0cd7","webpack:///./src/components/Reportes.vue","webpack:///./src/components/ReportePorUnidad.vue?29e8","webpack:///src/components/ReportePorUnidad.vue","webpack:///./src/components/ReportePorUnidad.vue?ae56","webpack:///./src/components/ReportePorUnidad.vue","webpack:///./src/components/AcercaDe.vue?03fd","webpack:///src/components/AcercaDe.vue","webpack:///./src/components/AcercaDe.vue?d7a2","webpack:///./src/components/AcercaDe.vue?ffb2","webpack:///./src/components/Comisiones.vue?c5ea","webpack:///./src/components/DialogoAgregarComision.vue?b9f1","webpack:///./src/ComisionesService.js","webpack:///src/components/DialogoAgregarComision.vue","webpack:///./src/components/DialogoAgregarComision.vue?837b","webpack:///./src/components/DialogoAgregarComision.vue","webpack:///src/components/Comisiones.vue","webpack:///./src/components/Comisiones.vue?b4ae","webpack:///./src/components/Comisiones.vue","webpack:///src/components/Principal.vue","webpack:///./src/components/Principal.vue?82e8","webpack:///./src/components/Principal.vue","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.js","webpack:///./src/main.js","webpack:///./src/components/AcercaDe.vue?59ea","webpack:///./src/App.vue?5c67"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","model","callback","$$v","tab","expression","_v","ref","on","actualizarRutasEnHorarios","rutaSeleccionada","mostrarDialogoEliminar","$event","eliminarRutaSeleccionada","cerrarDialogo","mostrarDialogoAgregar","onRutaGuardada","rutas","_l","ruta","confirmarEliminacion","_s","nombre","staticClass","mostrarDialogoAgregarRuta","snackbar","$set","texto","mostrar","cerrar","confirmar","props","methods","$emit","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VSpacer","formularioValido","reglasValidacion","style","backgroundColor","color","guardar","PouchDB","plugin","PouchdbFind","db","createIndex","index","fields","Utiles","milisegundosCortos","milisegundos","transcurrido","Date","toISOString","substr","sumarHorarios","hora","minutos","fecha","formatearFechaActual","fechaYHoraA","getTime","restarHorarios","a","b","fechaYHoraB","idConSufijo","tipo","concat","formatearFechaYHoraParaId","mes","getMonth","dia","getDate","fechaFormateada","getFullYear","agregarCeroSiEsNecesario","horaFormateada","getHours","getMinutes","getSeconds","formatearHoraActual","valor","toString","TIPO_ROJO","TIPO_COMBI","Constantes","TIPOS_UNIDAD","PREFIJO_RUTAS","PREFIJO_HORARIOS","PREFIJO_COMISIONES","PREFIJO_UNIDADES_BAJADA","NUMEROS_PARA_COMISION","HorariosService","obtenerPorTipoUnidad","tipoUnidad","find","selector","_id","$gte","$lte","horarios","docs","obtenerPorTipoUnidadYNumero","numero","eliminarDeRuta","idRuta","horario","remove","nuevo","put","obtenerNumerosPorFechaRutaYTipoUnidad","obtenerPorFechaEIdRuta","sort","obtenerUltimoHorarioRegistrado","$gt","limit","eliminar","documento","RutasService","nueva","obtener","antesDeCerrar","$refs","formulario","resetValidation","reset","VForm","VTextField","components","mounted","obtenerRutas","VAlert","VDivider","VIcon","VListItem","VListItemContent","VList","VListItemTitle","VSnackbar","dialogoRegistrarHorario","onHorarioGuardado","directives","rawName","staticStyle","rutasTemporales","clickRutaTemporal","marcada","colorRutaTemporal","sufijo","_e","indice","colorRuta","mostrarNotas","registrarHorario","informacionMicros","_f","diferenciaEntreMicros","horarioReal","clave","rangoNotificacionInicio","rangoNotificacionFin","esRojo","fontSize","border","numeroUnidad","tomarHoraActual","deberiaMostrarBotonMicro","guardarMicro","guardarCombi","tipos","idInterval","setInterval","beforeDestroy","console","log","watch","formateador","format","setTimeout","indexOf","toLowerCase","refrescarHora","horaRefrescada","VContainer","VSwitch","VTimePicker","obtenerRutaSegunId","diccionario","id","primeraFecha","segundaFecha","guardarRutasTemporales","localStorage","setItem","prompt","intercambiarVista","clickBoton","pausado","iniciarIntervalRefrescarTiempo","clearInterval","refrescarTiempoTranscurrido","ultimoIndice","obtenerUltimosRojos","rojo","ultimos","contadorEncontrados","VCol","VRow","colorFondo","obtenerHorariosConFechaYRutaSeleccionada","scopedSlots","_u","fn","item","minutosSuma","promedios","combi","tiempoGeneral","sumarConTiempoSeleccionado","generarPdf","dateStyle","computed","nombreDeRutaPorId","VSelect","VSlider","unidades","obtenerReporte","numeroSeleccionado","nombreRuta","obtenerNombreRutaSegunId","obtenerColorRutaSegunId","numeroUnidadSeleccionada","dialogoComision","onComisionGuardada","total","eliminarTodas","unidad","comision","agregarComision","ComisionesService","parseFloat","comisiones","prepararArregloNumeros","refrescarComisiones","mostrarDialogoComision","VBadge","AcercaDe","Reportes","Horarios","Rutas","ReportePorUnidad","Comisiones","actualizarReporte","reportes","refrescarTodo","VTab","VTabItem","VTabs","VTabsItems","VTabsSlider","Principal","VApp","VMain","Vue","use","Vuetify","icons","iconfont","Intl","DateTimeFormat","timeStyle","Toasted","config","productionTip","filter","horas","parseInt","substring","segundos","respuesta","vuetify","render","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,KAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,kLCvJL,EAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,SAAS,CAACA,EAAG,cAAc,IAAI,IAC1IE,EAAkB,GCDlB,EAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,MAAM,CAAC,mBAAmB,OAAO,KAAO,GAAG,aAAa,GAAG,iBAAiB,GAAG,gBAAgB,IAAIC,MAAM,CAACxB,MAAOgB,EAAO,IAAES,SAAS,SAAUC,GAAMV,EAAIW,IAAID,GAAKE,WAAW,QAAQ,CAACR,EAAG,gBAAgB,CAACG,MAAM,CAAC,MAAQ,YAAYH,EAAG,QAAQ,CAACJ,EAAIa,GAAG,cAAcT,EAAG,SAAS,CAACJ,EAAIa,GAAG,kCAAkC,GAAGT,EAAG,QAAQ,CAACJ,EAAIa,GAAG,cAAcT,EAAG,SAAS,CAACJ,EAAIa,GAAG,0BAA0B,GAAGT,EAAG,QAAQ,CAACJ,EAAIa,GAAG,cAAcT,EAAG,SAAS,CAACJ,EAAIa,GAAG,oBAAoB,GAAGT,EAAG,QAAQ,CAACJ,EAAIa,GAAG,WAAWT,EAAG,SAAS,CAACJ,EAAIa,GAAG,cAAc,GAAGT,EAAG,QAAQ,CAACJ,EAAIa,GAAG,gBAAgBT,EAAG,SAAS,CAACJ,EAAIa,GAAG,oBAAoB,GAAGT,EAAG,QAAQ,CAACJ,EAAIa,GAAG,eAAeT,EAAG,SAAS,CAACJ,EAAIa,GAAG,8BAA8B,IAAI,GAAGT,EAAG,eAAe,CAACI,MAAM,CAACxB,MAAOgB,EAAO,IAAES,SAAS,SAAUC,GAAMV,EAAIW,IAAID,GAAKE,WAAW,QAAQ,CAACR,EAAG,aAAa,CAACA,EAAG,WAAW,CAACU,IAAI,cAAc,GAAGV,EAAG,aAAa,CAACA,EAAG,WAAW,CAACU,IAAI,cAAc,GAAGV,EAAG,aAAa,CAACA,EAAG,qBAAqB,GAAGA,EAAG,aAAa,CAACA,EAAG,QAAQ,CAACW,GAAG,CAAC,aAAef,EAAIgB,8BAA8B,GAAGZ,EAAG,aAAa,CAACA,EAAG,eAAe,GAAGA,EAAG,aAAa,CAACA,EAAG,aAAa,IAAI,IAAI,IACxtC,EAAkB,GCDlB,EAAS,WAAa,IAAIJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,2BAA2B,CAACG,MAAM,CAAC,KAAOP,EAAIiB,iBAAiB,QAAUjB,EAAIkB,wBAAwBH,GAAG,CAAC,WAAa,SAASI,GAAQ,OAAOnB,EAAIoB,4BAA4B,OAASpB,EAAIqB,iBAAiBjB,EAAG,cAAc,CAACG,MAAM,CAAC,QAAUP,EAAIsB,uBAAuBP,GAAG,CAAC,SAAWf,EAAIuB,eAAe,OAAS,SAASJ,GAAQnB,EAAIsB,uBAAwB,MAAWtB,EAAIwB,MAAM7E,OAAS,EAAGyD,EAAG,MAAMJ,EAAIyB,GAAIzB,EAAS,OAAE,SAAS0B,EAAKjF,GAAG,OAAO2D,EAAG,MAAM,CAACd,IAAI7C,GAAG,CAAC2D,EAAG,cAAc,CAACG,MAAM,CAAC,WAAW,IAAIQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAI2B,qBAAqBD,MAAS,CAACtB,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAACJ,EAAIa,GAAGb,EAAI4B,GAAGF,EAAKG,YAAY,IAAI,GAAGzB,EAAG,cAAc,MAAK,GAAGA,EAAG,MAAM,CAACA,EAAG,UAAU,CAAC0B,YAAY,YAAYvB,MAAM,CAAC,MAAQ,GAAG,KAAO,SAAS,CAACP,EAAIa,GAAG,+DAA+D,GAAGT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,UAAU,IAAM,GAAG,UAAY,IAAI,MAAQ,GAAG,OAAS,GAAG,MAAQ,IAAIQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAI+B,+BAA+B,CAAC3B,EAAG,SAAS,CAACJ,EAAIa,GAAG,eAAe,GAAGT,EAAG,aAAa,CAACG,MAAM,CAAC,IAAM,GAAG,QAAU,OAAOC,MAAM,CAACxB,MAAOgB,EAAIgC,SAAgB,QAAEvB,SAAS,SAAUC,GAAMV,EAAIiC,KAAKjC,EAAIgC,SAAU,UAAWtB,IAAME,WAAW,qBAAqB,CAACZ,EAAIa,GAAG,IAAIb,EAAI4B,GAAG5B,EAAIgC,SAASE,OAAO,QAAQ,IAC13C,EAAkB,G,wBCDlB,EAAS,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,GAAG,YAAY,OAAOC,MAAM,CAACxB,MAAOgB,EAAW,QAAES,SAAS,SAAUC,GAAMV,EAAImC,QAAQzB,GAAKE,WAAW,YAAY,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAAC0B,YAAY,YAAY,CAAC9B,EAAIa,GAAG,oBAAoBT,EAAG,cAAc,CAACJ,EAAIa,GAAG,cAAcT,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAI0B,KAAKG,WAAW7B,EAAIa,GAAG,KAAKT,EAAG,MAAMJ,EAAIa,GAAG,mDAAmDT,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIQ,GAAG,CAAC,MAAQf,EAAIoC,SAAS,CAACpC,EAAIa,GAAG,gBAAgBT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,eAAe,KAAO,IAAIQ,GAAG,CAAC,MAAQf,EAAIqC,YAAY,CAACrC,EAAIa,GAAG,iBAAiB,IAAI,IAAI,IAChtB,EAAkB,GCmCtB,GACEyB,MAAO,CAAC,UAAW,QACnB/D,KAAM,2BACNpC,KAAM,WAAR,UACEoG,QAAS,CACPH,OADJ,WAEMnC,KAAKuC,MAAM,WAEbH,UAJJ,WAKMpC,KAAKuC,MAAM,iBC7CiV,I,6FCO9VC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,EAAiB,QAWhC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,UAAA,KAAQC,UAAA,OC7BnF,IAAI,EAAS,WAAa,IAAIhD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,GAAG,YAAY,OAAOC,MAAM,CAACxB,MAAOgB,EAAW,QAAES,SAAS,SAAUC,GAAMV,EAAImC,QAAQzB,GAAKE,WAAW,YAAY,CAACR,EAAG,SAAS,CAACA,EAAG,eAAe,CAAC0B,YAAY,YAAY,CAAC9B,EAAIa,GAAG,kBAAkBT,EAAG,SAAS,CAACU,IAAI,aAAagB,YAAY,OAAOtB,MAAM,CAACxB,MAAOgB,EAAoB,iBAAES,SAAS,SAAUC,GAAMV,EAAIiD,iBAAiBvC,GAAKE,WAAW,qBAAqB,CAACR,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQP,EAAIkD,iBAAiBrB,OAAO,MAAQ,SAAS,SAAW,IAAIrB,MAAM,CAACxB,MAAOgB,EAAI0B,KAAW,OAAEjB,SAAS,SAAUC,GAAMV,EAAIiC,KAAKjC,EAAI0B,KAAM,SAAUhB,IAAME,WAAW,iBAAiBR,EAAG,eAAe,CAAC+C,MAAM,CAAEC,gBAAgBpD,EAAI0B,KAAK2B,OAAQ9C,MAAM,CAAC,MAAQ,QAAQ,KAAO,SAASC,MAAM,CAACxB,MAAOgB,EAAI0B,KAAU,MAAEjB,SAAS,SAAUC,GAAMV,EAAIiC,KAAKjC,EAAI0B,KAAM,QAAShB,IAAME,WAAW,iBAAiB,GAAGR,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,IAAIQ,GAAG,CAAC,MAAQf,EAAIoC,SAAS,CAACpC,EAAIa,GAAG,gBAAgBT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,iBAAiB,UAAYP,EAAIiD,iBAAiB,KAAO,IAAIlC,GAAG,CAAC,MAAQf,EAAIsD,UAAU,CAACtD,EAAIa,GAAG,gBAAgB,IAAI,IAAI,IAClqC,EAAkB,G,oCCEtB0C,OAAQC,OAAOC,QACf,IAAMC,EAAK,IAAIH,OAAQ,SAEvBG,EAAGC,YAAY,CACXC,MAAO,CAACC,OAAQ,CAAC,WAENH,QCTTI,G,oBAAS,CACXC,mBADW,SACQC,GACf,IAAKA,EACD,MAAO,IAEX,IAAMC,EAAe,IAAIC,KAAKF,GAAcG,cAAcC,OAAO,GAAI,GACrE,OAAOH,GAEXI,cARW,SAQGC,EAAMC,GAChB,IAAMC,EAAQvE,KAAKwE,uBACbC,EAAc,IAAIR,KAAKM,EAAQ,IAAMF,GAC3C,OAAO,IAAIJ,KAAKQ,EAAYC,UAAuB,GAAVJ,EAAe,MAE5DK,eAbW,SAaIC,EAAGC,GACd,IAAMN,EAAQvE,KAAKwE,uBACbC,EAAc,IAAIR,KAAKM,EAAQ,IAAMK,GACrCE,EAAc,IAAIb,KAAKM,EAAQ,IAAMM,GAC3C,OAAOJ,EAAcK,GAEzBC,YAnBW,SAmBCC,GACR,OAAOA,EAAKC,OAAO,IAAKjF,KAAKkF,8BAEjCA,0BAtBW,WAuBP,IAAMX,EAAQ,IAAIN,KACZkB,EAAMZ,EAAMa,WAAa,EACzBC,EAAMd,EAAMe,UACZC,EAAkB,GAAH,OAAMhB,EAAMiB,cAAZ,YAA6BxF,KAAKyF,yBAAyBN,GAA3D,YAAmEnF,KAAKyF,yBAAyBJ,IAChHK,EAAiB,GAAH,OAAM1F,KAAKyF,yBAAyBlB,EAAMoB,YAA1C,YAAyD3F,KAAKyF,yBAAyBlB,EAAMqB,cAA7F,YAA8G5F,KAAKyF,yBAAyBlB,EAAMsB,eACtK,OAAON,EAAkB,IAAMG,GAEnCI,oBA9BW,WA+BP,IAAMvB,EAAQ,IAAIN,KAClB,gBAAUjE,KAAKyF,yBAAyBlB,EAAMoB,YAA9C,YAA6D3F,KAAKyF,yBAAyBlB,EAAMqB,cAAjG,YAAkH5F,KAAKyF,yBAAyBlB,EAAMsB,gBAG1JrB,qBAnCW,WAoCP,IAAMD,EAAQ,IAAIN,KACZkB,EAAMZ,EAAMa,WAAa,EACzBC,EAAMd,EAAMe,UAClB,gBAAUf,EAAMiB,cAAhB,YAAiCxF,KAAKyF,yBAAyBN,GAA/D,YAAuEnF,KAAKyF,yBAAyBJ,KAEzGI,yBAzCW,SAyCcM,GACrB,OAAIA,EAAQ,GACD,IAAId,OAAOc,GAEfA,EAAMC,cAGNnC,IChDToC,EAAY,OACZC,EAAa,MAEbC,EAAa,CACfF,YACAC,aACAE,aAAc,CAACF,EAAYD,GAC3BI,cAAe,QACfC,iBAAkB,WAClBC,mBAAoB,aACpBC,wBAAyB,kBACzBC,sBAAuB,CACnB,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAC3B,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GACpC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAChC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAChC,GAAI,GAAI,GAAI,GAAI,KAGTN,I,wBCfTO,EAAkB,CACdC,qBADc,SACOC,GAAY,mKACZnD,EAAGoD,KAAK,CAC3BC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWG,iBACjBW,KAAMd,EAAWG,iBAAmB,KAExCM,aACAvC,KAAM,CACF2C,KAAM,SATiB,cAC7BE,EAD6B,yBAa5BA,EAASC,MAbmB,8CAejCC,4BAhBc,SAgBcR,EAAYS,GAAQ,mKAC3B5D,EAAGoD,KAAK,CAC3BC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWG,iBACjBW,KAAMd,EAAWG,iBAAmB,KAExCM,aAAYS,SACZhD,KAAM,CACF2C,KAAM,SATgC,cAC5CE,EAD4C,yBAa3CA,EAASC,MAbkC,8CAehDG,eA/Bc,SA+BCC,GAAQ,yKACF9D,EAAGoD,KAAK,CAC3BC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWG,iBACjBW,KAAMd,EAAWG,iBAAmB,KAExCiB,YAPiB,OACnBL,EADmB,wBAUHA,EAASC,MAVN,gEAUdK,EAVc,kBAWf/D,EAAGgE,OAAOD,GAXK,6MAcvBE,MA7Cc,SA6CRH,EAAQhD,EAAOF,EAAMuC,EAAYS,GAAQ,6JACpC5D,EAAGkE,IAAI,CAChBZ,IAAKlD,EAAOkB,YAAYoB,EAAWG,kBACnCiB,SAAQhD,QAAOF,OAAMuC,aAAYS,WAHY,sFAO/CO,sCApDc,SAoDwBrD,EAAOgD,EAAQX,GAAY,mKAC/CnD,EAAGoD,KAAK,CACxBC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWG,iBACjBW,KAAMd,EAAWG,iBAAmB,KAExC/B,QAAOgD,SAAQX,aACfvC,KAAM,CACF2C,KAAM,SATiD,cAC7DzF,EAD6D,yBAa5DA,EAAM4F,MAbsD,8CAejEU,uBAnEc,SAmEStD,EAAOgD,GAAQ,mKACpB9D,EAAGoD,KAAK,CACxBC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWG,iBACjBW,KAAMd,EAAWG,iBAAmB,KAExC/B,QAAOgD,SACPlD,KAAM,CACF2C,KAAM,OAGdc,KAAM,CAAC,CAAE,KAAQ,WAZmB,cAClCvG,EADkC,yBAcjCA,EAAM4F,MAd2B,8CAgBtCY,+BAnFc,SAmFiBxD,EAAOgD,GAAQ,qKAC5B9D,EAAGoD,KAAK,CACxBC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWG,iBACjBW,KAAMd,EAAWG,iBAAmB,KAExC/B,QAAOgD,SACPlD,KAAM,CACF2D,IAAK,OAGbF,KAAM,CAAC,CAAE,KAAQ,SACjBG,MAAO,IAbqC,UAC1C1G,EAD0C,OAe1C4F,EAAO5F,EAAM4F,OACfA,EAAKzK,QAAU,GAhB6B,yCAiBrC,IAjBqC,gCAmBzCyK,EAAKvJ,OAAO,EAAG,IAnB0B,8CAqB9CsK,SAxGc,SAwGLC,GAAW,6JACT1E,EAAGgE,OAAOU,GADD,uFAIfzB,IC1GT0B,EAAe,CACXC,MADW,SACLzG,EAAQwB,GAAO,6JACVK,EAAGkE,IAAI,CAChBZ,IAAKlD,EAAOkB,YAAYoB,EAAWE,eACnCzE,SAAQwB,UAHW,sFAMrBkF,QAPW,WAOD,mKACQ7E,EAAGoD,KAAK,CACxBC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWE,cACjBY,KAAMd,EAAWE,cAAgB,QALjC,cACN9E,EADM,yBASLA,EAAM4F,MATD,8CAWVe,SAlBW,SAkBFC,GAAW,6JAChBzB,EAAgBY,eAAea,EAAUpB,KADzB,uBAETtD,EAAGgE,OAAOU,GAFD,uFAKfC,ICuBf,GACE9J,KAAM,cACN+D,MAAO,CAAC,WACRnG,KAAM,WAAR,OACA,MACA,UACA,gBAEA,oBACA,kBACA,QACA,YACU,QAAK0F,GACI,yBAOjBU,QAAS,CACPiG,cADJ,WAEMvI,KAAKwI,MAAMC,WAAWC,kBACtB1I,KAAKwI,MAAMC,WAAWE,SAExBxG,OALJ,WAMMnC,KAAKuI,gBACLvI,KAAKuC,MAAM,WAEb,QATJ,WASA,wKACA,oCADA,OAEA,iBACA,sBACA,kBACA,oBALA,gDCjFqV,I,wBCOjV,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,IAAiB,QAYhC,IAAkB,EAAW,CAACE,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaE,WAAA,OAAWC,UAAA,KAAQ8F,QAAA,KAAM7F,UAAA,KAAQ8F,aAAA,OCmBvF,OACEvK,KAAM,QACNwK,WAAY,CAAd,0CACE5M,KAAM,WAAR,OACA,SACA,oBACA,0BACA,yBACA,UACA,WACA,YAGE6M,QAbF,WAcI/I,KAAKgJ,gBAEP1G,QAAS,CACPhB,eADJ,WAEMtB,KAAK+B,SAASG,SAAU,EACxBlC,KAAK+B,SAASE,MAAQ,gBACtBjC,KAAKqB,uBAAwB,EAC7BrB,KAAKuC,MAAM,gBACXvC,KAAKgJ,gBAEPlH,0BARJ,WASM9B,KAAKqB,uBAAwB,GAE/BK,qBAXJ,SAWA,GACM1B,KAAKgB,iBAAmBS,EACxBzB,KAAKiB,wBAAyB,GAEhC,yBAfJ,WAeA,wKACA,+BADA,OAEA,sBACA,4BACA,wBACA,iBALA,8CAOIG,cAtBJ,WAuBMpB,KAAKiB,wBAAyB,GAEhC,aAzBJ,WAyBA,wKACA,YADA,OACA,QADA,uDC1F+U,I,0ECO3U,GAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACgI,SAAA,KAAOxG,OAAA,KAAKC,QAAA,KAAMwG,WAAA,KAASC,QAAA,KAAMC,YAAA,KAAUC,iBAAAC,GAAA,KAAiBC,eAAAD,GAAA,KAAeE,aAAA,OC/BzG,IAAI,GAAS,WAAa,IAAIzJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,wBAAwB,CAACG,MAAM,CAAC,KAAOP,EAAIiB,iBAAiB,QAAUjB,EAAI0J,yBAAyB3I,GAAG,CAAC,SAAWf,EAAI2J,kBAAkB,OAAS,SAASxI,GAAQnB,EAAI0J,yBAA0B,MAAUtJ,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACwJ,WAAW,CAAC,CAACrL,KAAK,OAAOsL,QAAQ,SAAS7K,MAAOgB,EAAgB,aAAEY,WAAW,iBAAiBkJ,YAAY,CAAC,QAAU,KAAKvJ,MAAM,CAAC,KAAO,MAAM,CAAEP,EAAI+J,gBAAgBpN,OAAS,EAAGyD,EAAG,MAAMJ,EAAIyB,GAAIzB,EAAmB,iBAAE,SAAS0B,EAAKjF,GAAG,OAAO2D,EAAG,MAAM,CAACd,IAAI7C,EAAEsE,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAIgK,kBAAkBtI,MAAS,CAACtB,EAAG,cAAc,CAAC+C,MAAM,CACnrBC,gBAAiB1B,EAAKuI,QAAUjK,EAAIkK,kBAAoB,SACvD3J,MAAM,CAAC,WAAW,KAAK,CAACH,EAAG,sBAAsB,CAACA,EAAG,oBAAoB,CAAC0J,YAAY,CAAC,YAAY,WAAW,CAAC1J,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAI4B,GAAGF,EAAKG,SAASzB,EAAG,MAAMJ,EAAIa,GAAGb,EAAI4B,GAAGF,EAAKyI,cAAc,IAAI,GAAG/J,EAAG,cAAc,MAAK,GAAGJ,EAAIoK,KAAKpK,EAAIyB,GAAIzB,EAA8B,4BAAE,SAASyH,EAAQ4C,GAAQ,OAAOjK,EAAG,QAAQ,CAACd,IAAI+K,EAAOvI,YAAY,cAAcgI,YAAY,CAAC,OAAS,6BAA6B,QAAU,SAAS3G,MAAM,CAAGC,gBAAiBqE,EAAQ6C,WAAa/J,MAAM,CAAC,UAAY,KAAK,CAACP,EAAIa,GAAG,IAAIb,EAAI4B,GAAG6F,EAAQH,QAAQ,WAAU,GAAGlH,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAOP,EAAIuK,aAAe,GAAK,KAAK,CAAEvK,EAAIwB,MAAM7E,OAAS,EAAGyD,EAAG,MAAMJ,EAAIyB,GAAIzB,EAAS,OAAE,SAAS0B,EAAKjF,GAAG,OAAO2D,EAAG,MAAM,CAACd,IAAI7C,GAAG,CAAC2D,EAAG,cAAc,CAAC+C,MAAM,CAAGC,gBAAiB1B,EAAK2B,OAAS9C,MAAM,CAAC,aAAa,IAAIQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAIwK,iBAAiB9I,EAAMjF,MAAM,CAAC2D,EAAG,sBAAsB,CAAC0J,YAAY,CAAC,QAAU,IAAI,OAAS,MAAM,CAAC1J,EAAG,oBAAoB,CAACA,EAAG,IAAI,CAAC0J,YAAY,CAAC,aAAa,QAAQ,gBAAgB,SAAS,CAAC1J,EAAG,QAAQ,CAAC0J,YAAY,CAAC,QAAU,IAAI,OAAS,IAAI,YAAY,MAAM,OAAS,QAAQvJ,MAAM,CAAC,MAAQ,QAAQ,UAAY,KAAK,CAACP,EAAIa,GAAGb,EAAI4B,IAAIF,EAAK+I,kBAAkB,IAAM,IAAInD,WAAWtH,EAAIa,GAAG,IAAIb,EAAI4B,IAAIF,EAAK+I,kBAAkB,IAAM,IAAInG,MAAM,KAAKlE,EAAG,SAAS,CAACJ,EAAIa,GAAG,IAAIb,EAAI4B,GAAG5B,EAAI0K,GAAG,qBAAP1K,CAA6BA,EAAI2K,sBAAsBjJ,EAAK+I,qBAAqB,OAAOrK,EAAG,QAAQ,CAAC0J,YAAY,CAAC,QAAU,IAAI,OAAS,IAAI,YAAY,MAAM,OAAS,QAAQvJ,MAAM,CAAC,MAAQ,QAAQ,UAAY,KAAK,CAACP,EAAIa,GAAGb,EAAI4B,IAAIF,EAAK+I,kBAAkB,IAAM,IAAInD,WAAWlH,EAAG,SAAS,CAACJ,EAAIa,GAAG,IAAIb,EAAI4B,GAAGF,EAAKG,QAAQ,QAAQ,GAAIH,EAAa,SAAEtB,EAAG,MAAMJ,EAAIyB,GAAIC,EAAa,UAAE,SAASkJ,EAAYC,GAAO,OAAOzK,EAAG,QAAQ,CAACd,IAAIuL,GAAO,CAAY,IAAVA,EAAa,CAACzK,EAAG,QAAQ,CAAC0J,YAAY,CAAC,iBAAiB,eAAe,cAAc,eAAe,OAAS,gBAAgBvJ,MAAM,CAAC,KAAO,MAAM,CAAY,IAAVsK,EAAazK,EAAG,iBAAiB,CAACG,MAAM,CAAC,QAAUqK,KAAe5K,EAAIoK,MAAM,GAAGhK,EAAG,QAAQ,CAAC0J,YAAY,CAAC,iBAAiB,eAAe,cAAc,eAAe,OAAS,eAAe,YAAY,UAAU3G,MAAM,CAC/hEC,gBACEwH,EAAY3G,cACVjE,EAAI8K,yBACNF,EAAY3G,cACVjE,EAAI+K,sBACI,IAAVF,GACA7K,EAAIgL,OAAOJ,GACP,QACA,WACLrK,MAAM,CAAC,KAAO,MAAM,CAACP,EAAIa,GAAG,IAAIb,EAAI4B,GAAGgJ,EAAYtG,MAAM,OAAOlE,EAAG,SAAS,CAAC+C,MAAM,CAClF8H,SAAoB,IAAVJ,EAAc,SAAW,WACjC,CAAC7K,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAI0K,GAAG,qBAAP1K,CAA6B4K,EAAY3G,qBAAqB,CAAC7D,EAAG,QAAQ,CAAC0J,YAAY,CAAC,cAAc,eAAe,iBAAiB,eAAe,aAAa,SAASvJ,MAAM,CAAC,KAAO,OAAO,CAACH,EAAG,IAAI,CAACJ,EAAIa,GAAG,cAAcT,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAI0K,GAAG,uBAAP1K,CAA+B4K,EAAY3G,kBAAkBjE,EAAIa,GAAG,QAAQT,EAAG,OAAO,CAAC+C,MAAM,CACrWC,gBAAiBpD,EAAIgL,OAAOJ,GACxB,MACA,UACJM,OAAQlL,EAAIgL,OAAOJ,GACf,kBACA,SACF,CAAC5K,EAAIa,GAAGb,EAAI4B,GAAGgJ,EAAY/D,YAAY,KAAKzG,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAI4B,GAAGgJ,EAAYtD,mBAAmB,MAAK,GAAGlH,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIa,GAAG,wDAAwD,IAAI,GAAGT,EAAG,cAAc,MAAK,GAAGA,EAAG,MAAM,CAACA,EAAG,UAAU,CAAC0B,YAAY,YAAYvB,MAAM,CAAC,MAAQ,GAAG,KAAO,SAAS,CAACP,EAAIa,GAAG,gCAAgCT,EAAG,SAAS,CAACJ,EAAIa,GAAG,WAAWb,EAAIa,GAAG,yBAAyB,MAAM,GAAGT,EAAG,aAAa,CAACG,MAAM,CAAC,IAAM,GAAG,QAAU,OAAOC,MAAM,CAACxB,MAAOgB,EAAIgC,SAAgB,QAAEvB,SAAS,SAAUC,GAAMV,EAAIiC,KAAKjC,EAAIgC,SAAU,UAAWtB,IAAME,WAAW,qBAAqB,CAACZ,EAAIa,GAAG,IAAIb,EAAI4B,GAAG5B,EAAIgC,SAASE,OAAO,QAAQ,IACnqB,GAAkB,GCtBlB,I,8BAAS,WAAa,IAAIlC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,GAAG,YAAY,OAAOC,MAAM,CAACxB,MAAOgB,EAAW,QAAES,SAAS,SAAUC,GAAMV,EAAImC,QAAQzB,GAAKE,WAAW,YAAY,CAACR,EAAG,SAAS,CAAC0B,YAAY,QAAQ,CAAC1B,EAAG,cAAc,CAACA,EAAG,eAAe,CAACU,IAAI,cAAcP,MAAM,CAAC,MAAQ,SAAS,KAAO,UAAUC,MAAM,CAACxB,MAAOgB,EAAgB,aAAES,SAAS,SAAUC,GAAMV,EAAImL,aAAazK,GAAKE,WAAW,mBAAmB,GAAGR,EAAG,UAAU,CAAC0B,YAAY,YAAYvB,MAAM,CAAC,MAAQ,GAAG,KAAO,YAAY,CAACH,EAAG,SAAS,CAAC0B,YAAY,WAAW,CAAC9B,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAI0B,KAAKG,QAAQ,MAAM7B,EAAI4B,GAAG5B,EAAImL,mBAAmB/K,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,qBAAqBC,MAAM,CAACxB,MAAOgB,EAAmB,gBAAES,SAAS,SAAUC,GAAMV,EAAIoL,gBAAgB1K,GAAKE,WAAW,qBAAqBR,EAAG,MAAM,CAACwJ,WAAW,CAAC,CAACrL,KAAK,OAAOsL,QAAQ,SAAS7K,OAAQgB,EAAIoL,gBAAiBxK,WAAW,sBAAsB,CAACR,EAAG,gBAAgB,CAACG,MAAM,CAAC,OAAS,OAAO,aAAa,GAAG,cAAc,IAAIC,MAAM,CAACxB,MAAOgB,EAAW,QAAES,SAAS,SAAUC,GAAMV,EAAIyH,QAAQ/G,GAAKE,WAAW,aAAaR,EAAG,MAAM,CAACwJ,WAAW,CAAC,CAACrL,KAAK,OAAOsL,QAAQ,SAAS7K,OAAQgB,EAAIyH,QAAS7G,WAAW,cAAc,CAACR,EAAG,IAAI,CAACJ,EAAIa,GAAG,uCAAuCT,EAAG,MAAM,CAACwJ,WAAW,CAAC,CAACrL,KAAK,OAAOsL,QAAQ,SAAS7K,MAAOgB,EAAW,QAAEY,WAAW,aAAa,CAACZ,EAAIa,GAAG,gCAAgCT,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAIyH,eAAe,GAAGrH,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACwJ,WAAW,CAAC,CAACrL,KAAK,OAAOsL,QAAQ,SAAS7K,MAAOgB,EAAIqL,2BAA4BzK,WAAW,+BAA+BL,MAAM,CAAC,KAAO,GAAG,MAAQ,MAAM,MAAQ,IAAIQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAIsL,kBAAkB,CAACtL,EAAIa,GAAG,YAAYT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,IAAIQ,GAAG,CAAC,MAAQf,EAAIoC,SAAS,CAACpC,EAAIa,GAAG,gBAAgBT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,QAAQ,MAAQ,GAAG,KAAO,IAAIQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAIuL,kBAAkB,CAACvL,EAAIa,GAAG,YAAY,IAAI,IAAI,KAC57D,GAAkB,GCuDtB,I,UAAA,uDACA,IACEyB,MAAO,CAAC,UAAW,QACnB/D,KAAM,wBACNpC,KAAM,WAAR,OACA,WACA,kBACA,gBACA,mBACA,SACA,cACA,kBAEE6M,QAZF,WAYA,WACI/I,KAAKuL,MAAQ,EAAjB,aACIvL,KAAK4G,WAAa5G,KAAKuL,MAAM,GAC7BvL,KAAKwL,WAAaC,aAAY,WAC5B,EAAN,kBACA,MAEEC,cAnBF,WAoBIC,QAAQC,IAAI,aAEdC,MAAO,CACL3J,QADJ,WACA,WACUlC,KAAKkC,UACPlC,KAAKwH,QAAUsE,GAAYC,OAAO,IAAI9H,MACtC+H,YAAW,WACT,EAAV,wCACA,OAIE1J,QAAS,CACP8I,yBADJ,WAEM,IAAKpL,KAAKyB,KAAKG,OACb,OAAO,EAET,IAAN,GACA,YACA,YACA,YACA,OACA,aACA,WAEM,OAAuD,IAAnDL,EAAM0K,QAAQjM,KAAKyB,KAAKG,OAAOsK,gBAKrCZ,aAlBJ,WAmBMtL,KAAK4G,WAAa,EAAxB,WACM5G,KAAKqD,WAEPgI,aAtBJ,WAuBMrL,KAAK4G,WAAa,EAAxB,UACM5G,KAAKqD,WAEPkF,cA1BJ,WA2BMvI,KAAK4G,WAAa5G,KAAKuL,MAAM,GAC7BvL,KAAKkL,aAAe,GACpBlL,KAAKmL,iBAAkB,GAEzBgB,cA/BJ,WAgCMnM,KAAKoM,eAAiB,EAA5B,uBAEIjK,OAlCJ,WAmCMnC,KAAKuI,gBACLvI,KAAKuC,MAAM,WAEb,QAtCJ,WAsCA,iKACA,6BADA,oDAIA,eAJA,wDAOA,KAEA,EADA,kBACA,wBAEA,UAXA,SAaA,QACA,WACA,yBACA,EACA,aACA,gBAlBA,OAoBA,kBACA,oBArBA,iDC/H+V,M,uCCO3V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAAC0G,SAAA,KAAOxG,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAa0J,cAAA,KAAWvJ,UAAA,KAAQC,UAAA,KAAQuJ,WAAA,KAAQzD,aAAA,KAAW0D,eAAA,OChC3G,IAAI,GAAS,WAAa,IAAIxM,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,QAAQ,CAAC0B,YAAY,cAAcgI,YAAY,CAAC,OAAS,8BAA8BvJ,MAAM,CAAC,MAAQN,KAAK+K,SAAU,QAAU,OAAO,UAAY,KAAK,CAAChL,EAAIa,GAAG,IAAIb,EAAI4B,GAAG5B,EAAIyH,QAAQH,QAAQ,QAAQ,IAC/S,GAAkB,GCetB,IACE/I,KAAM,iBACN+D,MAAO,CAAC,WACRC,QAAS,CACPyI,OADJ,WAEM,OAAO/K,KAAKwH,QAAQZ,aAAe,EAAzC,aCrBwV,MCOpV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACnE,OAAA,OCkL9B,0BACA,aACA,aAEA,MACA,IACEnE,KAAM,WACNwK,WAAY,CAAd,4CACE5M,KAAM,WAAR,OACA,qBACA,kBACA,6BACA,0BACA,UACA,SACA,YAEA,gBACA,2BACA,SACA,iBACA,CACQ0F,OAAQ,OACRoI,SAAS,EACTE,OAAQ,IAEhB,CACQtI,OAAQ,OACRoI,SAAS,EACTE,OAAQ,IAEhB,CACQtI,OAAQ,OACRoI,SAAS,EACTE,OAAQ,IAEhB,CACQtI,OAAQ,OACRoI,SAAS,EACTE,OAAQ,IAEhB,CACQtI,OAAQ,OACRoI,SAAS,EACTE,OAAQ,IAGhB,CACQtI,OAAQ,OACRoI,SAAS,EACTE,OAAQ,IAEhB,CACQtI,OAAQ,OACRoI,SAAS,EACTE,OAAQ,KAGhB,oBACA,gBACA,WACA,iBACA,gCAEE,QA3DF,WA2DA,+JACA,0BACA,2BAEA,uDAJA,SAKA,iBALA,uBAMA,0BANA,OAOA,mCAPA,8CASE5H,QAAS,CACPkK,mBADJ,SACA,GACM,OAAOC,GAAYC,IAErB,sBAJJ,WAIA,8LACA,uBACA,aAFA,OAUA,IATA,EADA,OAIA,YACA,uBACA,qCACA,sBACA,uBAEA,sBACA,YACA,cACA,wBACA,qBAGA,IADA,KACA,sBACA,YACA,kBACA,uBACA,OACA,sCACA,EACA,OAGA,OAEA,0CA7BA,8CA+BIhC,sBAnCJ,SAmCA,GACM,GAAIF,EAAkB9N,OAAS,EAC7B,OAAO,EAET,IAAN,OACA,OACA,+BACA,+BACM,OAAOiQ,EAAeC,GAExBC,uBA7CJ,WA8CMC,aAAaC,QACnB,GACA,uCAGIhD,kBAnDJ,SAmDA,GACMtI,EAAKuI,SAAWvI,EAAKuI,QACjBvI,EAAKuI,QACPvI,EAAKyI,OAAS8C,OAAO,sBAErBvL,EAAKyI,OAAS,GAEhBlK,KAAK6M,0BAEP9B,OA5DJ,SA4DA,GACM,OAAOvD,EAAQZ,aAAe,EAApC,WAEIqG,kBA/DJ,WAgEMjN,KAAKsK,cAAgBtK,KAAKsK,cAE5B4C,WAlEJ,WAmEUlN,KAAKmN,SACPnN,KAAKoN,iCACLpN,KAAKmN,SAAU,IAEfE,cAAcrN,KAAKwL,YACnBxL,KAAKmN,SAAU,IAGnBC,+BA3EJ,WA2EA,WACMC,cAAcrN,KAAKwL,YACnBxL,KAAKsN,8BACLtN,KAAKwL,WAAaC,aAAY,WAC5B,EAAR,gCACA,MAEI6B,4BAlFJ,WAoFMtN,KAAKiK,kBACX,kCAEM,IALN,EAKA,2BACA,WANA,iBAOA,YAPA,IAOA,4CACA,IADA,iBAEA,YAFA,IAEA,0CAEA,GADA,yBACA,QAIA,eACA,cAQA,GANA,mBACA,QACA,eACA,mCACA,GAEA,MACA,GACA,8CACA,4CACA,wBACA,eACA,CACA,eACA,eACA,WACA,2CACA,sBAEA,yBACA,gBAEA,+BAEA,0CACA,iBAEA,2BAGA,SApCA,mBALA,gCAPA,gCAoDI,kBAtIJ,WAsIA,+JACA,YACA,yBACA,YAEA,6BAEA,sCAPA,SAQA,6BARA,OASA,0BATA,8CAWIM,iBAjJJ,SAiJA,KACMvK,KAAKuN,aAAenD,EACpBpK,KAAKgB,iBAAmBS,EACxBzB,KAAKyJ,yBAA0B,GAEjC,oBAtJJ,SAsJA,gLACA,2BADA,SAEA,iCACA,EACA,gBAJA,OAEA,EAFA,wBAMA,GANA,IAMA,qCACA,iBAPA,8BASA,sBATA,8CAWI+D,oBAjKJ,SAiKA,GAGM,IAFA,IAAN,KACA,IACA,wCACQ,IAAR,wBAKQ,GAJIC,EAAKlG,SAAWA,IAClBmG,EAAQ1Q,KAAKyQ,GACbE,KAEEA,GAAuB,EACzB,OAAOD,EAGX,OAAOA,GAET,yBAhLJ,WAgLA,kLACA,uBACA,aAFA,OACA,gBADA,wBAIA,SAJA,IAIA,qCACA,iDALA,4EAQI,aAxLJ,WAwLA,qLACA,MACA,2BAFA,SAGA,YAHA,OAGA,EAHA,wBAIA,GAJA,gEAIA,EAJA,QAKA,YALA,UAMA,iCACA,EACA,OARA,QAMA,EANA,wBAUA,GAVA,IAUA,qCACA,iBAXA,8BAaA,aACA,iDACA,iBACA,aAhBA,yJAkBA,UAlBA,UAmBA,6BAnBA,qEC1ckV,M,0BCO9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAACzE,SAAA,KAAOxG,OAAA,KAAKC,QAAA,KAAMkL,QAAA,KAAK1E,WAAA,KAASE,YAAA,KAAUC,iBAAAC,GAAA,KAAiBC,eAAAD,GAAA,KAAeuE,QAAA,KAAKrE,aAAA,OChC7G,IAAI,GAAS,WAAa,IAAIzJ,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAAC0J,YAAY,CAAC,OAAS,iBAAiB3G,MAAM,CAAGC,gBAAiBpD,EAAI+N,YAAcxN,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQP,EAAIwB,MAAM,YAAY,SAAS,aAAa,MAAM,MAAQ,OAAO,eAAe,kCAAkCT,GAAG,CAAC,OAAS,SAASI,GAAQ,OAAOnB,EAAIgO,6CAA6CC,YAAYjO,EAAIkO,GAAG,CAAC,CAAC5O,IAAI,OAAO6O,GAAG,SAASrN,GACte,IAAIsN,EAAOtN,EAAIsN,KACf,MAAO,CAAChO,EAAG,KAAK,CAAC0J,YAAY,CAAC,YAAY,OAAO,QAAU,QAAQ3G,MAAM,CAAGC,gBAAiBgL,EAAK/K,QAAU,CAACrD,EAAIa,GAAG,IAAIb,EAAI4B,GAAGwM,EAAKvM,QAAQ,YAAYrB,MAAM,CAACxB,MAAOgB,EAAoB,iBAAES,SAAS,SAAUC,GAAMV,EAAIiB,iBAAiBP,GAAKE,WAAW,sBAAsBR,EAAG,WAAW,CAACG,MAAM,CAAC,IAAM,KAAK,IAAM,KAAK,KAAO,IAAI,cAAc,UAAUC,MAAM,CAACxB,MAAOgB,EAAe,YAAES,SAAS,SAAUC,GAAMV,EAAIqO,YAAY3N,GAAKE,WAAW,iBAAkBZ,EAAImH,SAASxK,OAAS,EAAGyD,EAAG,MAAM,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAU,WAAW,CAACH,EAAG,KAAK,CAAC0B,YAAY,gBAAgB,CAAC9B,EAAIa,GAAG,iBAAiBb,EAAI4B,GAAG5B,EAAI0K,GAAG,qBAAP1K,CAA6BA,EAAIsO,UAAUC,QAAQ,SAASnO,EAAG,aAAaJ,EAAIyB,GAAIzB,EAAY,UAAE,SAASyH,EAAQhL,GAAG,OAAO2D,EAAG,MAAM,CAACd,IAAI7C,GAAG,CAAC2D,EAAG,cAAc,CAACG,MAAM,CAAC,WAAW,KAAK,CAACH,EAAG,sBAAsB,CAACA,EAAG,qBAAqBA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC0J,YAAY,CAAC,aAAa,SAASvJ,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,QAAUkH,MAAY,GAAGrH,EAAG,QAAQ,CAAC0J,YAAY,CAAC,YAAY,QAAQvJ,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,SAAS,CAACJ,EAAIa,GAAG,uBAAuBb,EAAIa,GAAG,IAAIb,EAAI4B,GAAG6F,EAAQnD,MAAM,OAAOlE,EAAG,SAAS,CAAC0J,YAAY,CAAC,YAAY,WAAW,CAAC9J,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAI0K,GAAG,qBAAP1K,CAA6ByH,EAAQ+G,mBAAmBpO,EAAG,MAAMJ,EAAIa,GAAG,iBAAiBT,EAAG,SAAS,CAACJ,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAI0K,GAAG,iBAAP1K,CAAyBA,EAAIyO,2BAA2BhH,EAAQnD,YAAY,IAAI,IAAI,IAAI,GAAGlE,EAAG,cAAc,OAAM,GAAGA,EAAG,MAAM,CAACA,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,SAAS,CAACP,EAAIa,GAAG,2DAA2D,GAAGT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,UAAU,IAAM,GAAG,UAAY,IAAI,MAAQ,GAAG,OAAS,GAAG,MAAQ,IAAIQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAI0O,gBAAgB,CAACtO,EAAG,SAAS,CAACJ,EAAIa,GAAG,mBAAmB,IAAI,IAC7rD,GAAkB,G,6CCuFtB,oCACE8N,UAAW,UAGb,IACEpQ,KAAM,WACNwK,WAAY,CAAd,mBACE5M,KAAM,WAAR,OACA,qBACA,SACA,SACA,oBACA,YACA,WACA,QACA,SACA,YAEA,wBACA,mBAEE,QAjBF,WAiBA,wKAEA,iBAFA,OAGA,6CAHA,8CAMEyS,SAAU,CACRb,WADJ,WACA,WACA,+BACQ,OAAOrM,EAAKsF,MAAQ,EAA5B,oBAEM,OAAItF,EACKA,EAAK2B,MAEL,YAIbd,QAAS,CACP,WADJ,WACA,mNACA,sBADA,SAEA,2BAFA,cAEA,EAFA,gBAGA,4CAHA,OAuBA,IApBA,EAHA,OAKA,cACA,2BACA,EACA,iEACA,GACA,CACA,MACA,2DACA,YACA,SAEA,CACA,kBACA,YACA,UAGA,4BACA,8BACA,oBACA,KACA,IACA,cACA,OACA,gBAEA,YACA,gBACA,cACA,0BAGA,KACA,MACA,MACA,MACA,KACA,qBACA,IACA,IACA,OACA,OACA,UAEA,mBACA,IACA,IACA,OACA,OACA,UAEA,2BACA,IACA,IACA,OACA,OACA,UAEA,kCACA,IACA,IACA,OACA,OACA,UAEA,KACA,cACA,IACA,IACA,OACA,OACA,UAEA,QAEA,IAhFA,iBAiFA,YAjFA,IAiFA,qCACA,KACA,WACA,iCACA,CACA,IACA,IACA,OACA,OACA,UAGA,mBACA,IACA,IACA,OACA,OACA,UAGA,kDACA,IACA,IACA,OACA,OACA,UAEA,oDACA,IACA,IACA,OACA,OACA,UAEA,KACA,cACA,IACA,IACA,OACA,OACA,UAEA,QACA,SACA,cACA,mBA9HA,+CAkIA,SAlIA,QAkIA,EAlIA,OAmIA,gBACA,yBAEA,gCACA,8BACA,SACA,WACA,qDACA,6BACA,uBACA,UACA,WA9IA,+CAgJIkM,2BAjJJ,SAiJA,GACM,OAAO,EAAb,mCAEI,cApJJ,WAoJA,wKACA,iBADA,cAEA,mBACA,mCAHA,SAKA,6CALA,8CAOI,aA3JJ,WA2JA,wKACA,YADA,OACA,QADA,qDAGII,kBA9JJ,SA8JA,0BACA,YADA,IACA,0CACA,YACA,iBAHA,gCAOI,yCArKJ,WAqKA,2LACA,wCADA,iEAIA,yBACA,oBACA,oBANA,OAQA,GAJA,EAJA,OAQA,YAcA,IAbA,KACA,KACA,IACA,IACA,IACA,IACA,IACA,uCACA,qBAEA,qBAGA,sBACA,YACA,cACA,wBACA,KACA,qBACA,+BACA,IACA,wBACA,KACA,IACA,wBAEA,MAEA,IACA,wBACA,KACA,IACA,wBAEA,KAGA,mCACA,qBACA,sBAEA,aAlDA,gDCtSkV,M,0BCO9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAgBhC,IAAkB,GAAW,CAAC3F,SAAA,KAAOxG,OAAA,KAAKC,QAAA,KAAMkL,QAAA,KAAK1E,WAAA,KAASC,QAAA,KAAMC,YAAA,KAAUC,iBAAAC,GAAA,KAAiBC,eAAAD,GAAA,KAAeuE,QAAA,KAAKgB,WAAA,KAAQC,WAAA,OClC3H,IAAI,GAAS,WAAa,IAAI/O,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAAC0B,YAAY,YAAYvB,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQP,EAAIgP,SAAS,MAAQ,kBAAkBjO,GAAG,CAAC,OAASf,EAAIiP,gBAAgBzO,MAAM,CAACxB,MAAOgB,EAAc,WAAES,SAAS,SAAUC,GAAMV,EAAI6G,WAAWnG,GAAKE,WAAW,iBAAiB,GAAGR,EAAG,QAAQ,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,UAAUQ,GAAG,CAAC,OAASf,EAAIiP,eAAe,MAAQjP,EAAIiP,gBAAgBzO,MAAM,CAACxB,MAAOgB,EAAsB,mBAAES,SAAS,SAAUC,GAAMV,EAAIkP,mBAAmBxO,GAAKE,WAAW,yBAAyB,IAAI,GAAGZ,EAAIyB,GAAIzB,EAAY,UAAE,SAASyH,EAAQhL,GAAG,OAAO2D,EAAG,MAAM,CAACd,IAAI7C,EAAE0G,MAAM,CAAGC,gBAAiBqE,EAAQ6C,YAAc,CAAClK,EAAG,cAAc,CAACG,MAAM,CAAC,WAAW,KAAK,CAACH,EAAG,sBAAsB,CAACA,EAAG,qBAAqBA,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAAC0J,YAAY,CAAC,aAAa,QAAQvJ,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,iBAAiB,CAACG,MAAM,CAAC,QAAUkH,KAAWrH,EAAG,SAAS,CAAC0J,YAAY,CAAC,YAAY,WAAW,CAAC9J,EAAIa,GAAGb,EAAI4B,GAAG6F,EAAQ0H,gBAAgB,GAAG/O,EAAG,QAAQ,CAAC0J,YAAY,CAAC,YAAY,QAAQvJ,MAAM,CAAC,KAAO,MAAM,CAACH,EAAG,SAAS,CAACJ,EAAIa,GAAG,uBAAuBb,EAAIa,GAAG,IAAIb,EAAI4B,GAAG6F,EAAQnD,MAAM,OAAOlE,EAAG,SAAS,CAAC0J,YAAY,CAAC,YAAY,WAAW,CAAC9J,EAAIa,GAAGb,EAAI4B,GAAG5B,EAAI0K,GAAG,uBAAP1K,CAA+ByH,EAAQ+G,oBAAoB,IAAI,IAAI,IAAI,GAAGpO,EAAG,cAAc,OAAM,IACr1C,GAAkB,GCsDtB,MACA,IACE2I,WAAY,CAAd,mBACE5M,KAAM,WAAR,OACA,YACA,SACA,wBACA,gBACA,sCAEE6M,QATF,WAUI/I,KAAKgJ,eACLhJ,KAAKgP,iBACLhP,KAAK4G,WAAa5G,KAAK+O,SAAS,IAElCzM,QAAS,CACP6M,yBADJ,SACA,GACM,OAAO,GAAb,WAEIC,wBAJJ,SAIA,GACM,OAAO,GAAb,UAEI,aAPJ,WAOA,0JACA,MADA,SAEA,YAFA,OAEA,EAFA,OAGA,uBACA,6CAJA,8CAOI,eAdJ,WAcA,yKACA,mCADA,iEAEA,8BACA,aACA,sBAJA,OAYA,IAVA,EAFA,OAOA,YACA,uBACA,kDACA,mDAEA,sBACA,YACA,cACA,wBACA,qBAEA,aAlBA,gDCpF0V,MCOtV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAAC1M,QAAA,KAAMkL,QAAA,KAAK1E,WAAA,KAASC,QAAA,KAAMC,YAAA,KAAUC,iBAAAC,GAAA,KAAiBC,eAAAD,GAAA,KAAeuE,QAAA,KAAKgB,WAAA,KAAQhG,aAAA,OChC/G,IAAI,GAAS,WAAa,IAAI9I,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAAC0B,YAAY,YAAYvB,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,SAAS,CAACH,EAAG,KAAK,CAACJ,EAAIa,GAAG,eAAeT,EAAG,IAAI,CAACJ,EAAIa,GAAG,2BAA2BT,EAAG,IAAI,CAAC0B,YAAY,cAAcvB,MAAM,CAAC,KAAO,8BAA8B,CAACP,EAAIa,GAAG,eAAeb,EAAIa,GAAG,kCAAkCT,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,8BAA8B,CAACP,EAAIa,GAAG,yBAAyBT,EAAG,KAAK,CAACJ,EAAIa,GAAG,cAAcT,EAAG,IAAI,CAACJ,EAAIa,GAAG,0BAA0BT,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,0BAA0B,MAAQ,YAAY,CAACP,EAAIa,GAAG,aAAab,EAAIa,GAAG,UAAUT,EAAG,IAAI,CAACG,MAAM,CAAC,KAAO,2BAA2B,MAAQ,aAAa,CAACP,EAAIa,GAAG,0BAA0B,IAChwB,GAAkB,GCiBtB,IACEtC,KAAM,YCnB0U,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,MAAiB,QAMhC,IAAkB,GAAW,CAAC2K,SAAA,KAAOvG,QAAA,OCzBrC,IAAI,GAAS,WAAa,IAAI3C,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,KAAK,CAACH,EAAG,yBAAyB,CAACG,MAAM,CAAC,gBAAgBP,EAAIsP,yBAAyB,QAAUtP,EAAIuP,iBAAiBxO,GAAG,CAAC,SAAWf,EAAIwP,mBAAmB,OAAS,SAASrO,GAAQnB,EAAIuP,iBAAgB,MAAUnP,EAAG,KAAK,CAAC0B,YAAY,aAAa,CAAC9B,EAAIa,GAAG,WAAWb,EAAI4B,GAAG5B,EAAIyP,SAAS,KAAKrP,EAAG,QAAQ,CAAC0B,YAAY,iBAAiBvB,MAAM,CAAC,MAAQ,QAAQQ,GAAG,CAAC,MAAQf,EAAI0P,gBAAgB,CAAC1P,EAAIa,GAAG,qBAAqB,GAAGb,EAAIyB,GAAIzB,EAAY,UAAE,SAAS2P,EAAOtF,GAAQ,OAAOjK,EAAG,UAAU,CAACd,IAAI+K,EAAOvI,YAAY,YAAYvB,MAAM,CAAC,QAAU,GAAG,SAAW,GAAG,MAAQ,UAAU,QAAUoP,EAAOC,WAAW,CAACxP,EAAG,QAAQ,CAACG,MAAM,CAAC,UAAY,GAAG,MAAQ,SAASQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAI6P,gBAAgBF,MAAW,CAAC3P,EAAIa,GAAGb,EAAI4B,GAAG+N,EAAOrI,QAAQ,QAAQ,OAAM,IACl3B,GAAkB,G,aCDlB,GAAS,WAAa,IAAItH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,GAAG,YAAY,OAAOC,MAAM,CAACxB,MAAOgB,EAAW,QAAES,SAAS,SAAUC,GAAMV,EAAImC,QAAQzB,GAAKE,WAAW,YAAY,CAACR,EAAG,SAAS,CAAC0B,YAAY,aAAa,CAAC1B,EAAG,KAAK,CAACJ,EAAIa,GAAG,UAAUb,EAAI4B,GAAG5B,EAAImL,iBAAiB/K,EAAG,cAAc,CAACA,EAAG,eAAe,CAACU,IAAI,gBAAgBP,MAAM,CAAC,MAAQ,WAAW,KAAO,UAAUC,MAAM,CAACxB,MAAOgB,EAAY,SAAES,SAAS,SAAUC,GAAMV,EAAI4P,SAASlP,GAAKE,WAAW,eAAe,GAAGR,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,MAAQ,UAAU,UAAY,IAAIQ,GAAG,CAAC,MAAQ,SAASI,GAAQ,OAAOnB,EAAIsD,aAAa,CAACtD,EAAIa,GAAG,eAAeT,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,GAAG,KAAO,IAAIQ,GAAG,CAAC,MAAQf,EAAIoC,SAAS,CAACpC,EAAIa,GAAG,iBAAiB,IAAI,IAAI,IACzyB,GAAkB,GCIhBiP,GAAoB,CAChBxH,MADgB,SACVhB,EAAQsI,GAAU,oJAC1BA,EAAWG,WAAWH,GADI,SAEblM,EAAGkE,IAAI,CAChBZ,IAAKlD,EAAOkB,YAAYoB,EAAWI,oBACnCc,SAAQsI,aAJc,sFAOxBrH,QARgB,WAQN,mKACa7E,EAAGoD,KAAK,CAC7BC,SAAU,CACNC,IAAK,CACDC,KAAMb,EAAWI,mBACjBU,KAAMd,EAAWI,mBAAqB,QALtC,cACNwJ,EADM,yBASLA,EAAW5I,MATN,8CAWVsI,cAnBgB,WAmBA,yKACOI,GAAkBvH,UADzB,OACZyH,EADY,wBAEKA,GAFL,gEAEPJ,EAFO,kBAGRlM,EAAGgE,OAAOkI,GAHF,8MAOXE,MCYf,IACEvR,KAAM,yBACN+D,MAAO,CAAC,eAAgB,WACxBnG,KAAM,WAAR,OACA,gBAEE2P,MAAO,CACL3J,QADJ,WACA,WACUlC,KAAKkC,SACP8J,YAAW,WACT,EAAV,0CACA,MAIE1J,QAAS,CACPH,OADJ,WAEMnC,KAAKuC,MAAM,WAEb,QAJJ,WAIA,2JACA,WADA,iEAIA,oCAJA,OAKA,gBACA,oBANA,gDC9DgW,MCO5V,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAWhC,IAAkB,GAAW,CAACE,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAa0J,cAAA,KAAWvJ,UAAA,KAAQC,UAAA,KAAQ8F,aAAA,OCEjF,UAEA,IACEvK,KAAM,aACNwK,WAAY,CAAd,2BACE5M,KAAM,WAAR,OACA,YACA,mBACA,gCAEE6M,QARF,WASI/I,KAAKgQ,yBACLhQ,KAAKiQ,uBAEP3N,QAAS,CACP,cADJ,WACA,2JACA,oBADA,iEAIA,mBAJA,cAKA,2BALA,SAMA,wBANA,8CAQIkN,MATJ,WAUM,IADN,EACA,IADA,iBAEA,eAFA,IAEA,0CACA,eAHA,8BAKM,OAAOA,GAETQ,uBAhBJ,WAiBM,IAAN,0BACA,KACM,GAAN,GAHA,uBAIA,aAJA,IAIA,2EACA,QACA,QACA,SACA,cARA,8BAWMhQ,KAAK+O,SAAWA,GAElB,oBA7BJ,WA6BA,sLACA,aADA,OACA,EADA,OAEA,uCAFA,iBAGA,GAHA,IAGA,qCACA,gBACA,YACA,mCANA,4EAUImB,uBAvCJ,WAwCMlQ,KAAKsP,iBAAkB,GAEzBM,gBA1CJ,SA0CA,GACUF,EAAOC,SAAW,IAGtB3P,KAAKqP,yBAA2BK,EAAOrI,OACvCrH,KAAKsP,iBAAkB,IAEzBC,mBAjDJ,WAkDMvP,KAAKsP,iBAAkB,EACvBtP,KAAKiQ,yBChGyU,M,aCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACE,UAAA,KAAO1N,OAAA,KAAKC,QAAA,OC0C1C,QACEpE,KAAM,aACNwK,WAAY,CACVsH,SAAJ,GACIC,SAAJ,GACIC,SAAJ,GACIC,MAAJ,GACIC,iBAAJ,GACIC,WAAJ,IAEEvU,KAAM,WAAR,OACA,QAEEoG,QAAS,CACPoO,kBADJ,WAEM1Q,KAAKwI,MAAMmI,SAASC,iBAEtB7P,0BAJJ,WAKMf,KAAKwI,MAAMtB,SAAS8B,kBCrFyT,M,iECO/U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACG,QAAA,KAAM0H,QAAA,KAAKC,YAAA,KAASC,SAAA,KAAMC,cAAA,KAAWC,eAAA,OCjBnE,QACE3S,KAAM,MAENwK,WAAY,CACVoI,UAAJ,IAGEhV,KAAM,WAAR,WClB8T,M,sCCQ1T,GAAY,eACd,GACA,EACAmE,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAAC8Q,QAAA,KAAKC,SAAA,O,2BCrBnCC,OAAIC,IAAIC,SAEO,WAAIA,QAAQ,CACvBC,MAAO,CACHC,SAAU,S,wBCHZ3F,GAAc,IAAI4F,KAAKC,eAAe,QAAS,CAAGC,UAAW,WACnEP,OAAIC,IAAIO,MACRR,OAAIS,OAAOC,eAAgB,EAC3BV,OAAIW,OAAO,kBAAkB,SAACzN,GAC1B,OAAOuH,GAAYC,OAAOxH,MAE9B8M,OAAIW,OAAO,wBAAwB,SAAAjO,GAC/B,IAAKA,EACD,MAAO,IAEX,IAAMC,EAAe,IAAIC,KAAKF,GAAcG,cAAcC,OAAO,GAAI,GAC/D8N,EAAQC,SAASlO,EAAamO,UAAU,EAAG,IAC3C7N,EAAU4N,SAASlO,EAAamO,UAAU,EAAG,IAC7CC,EAAWF,SAASlO,EAAamO,UAAU,EAAG,IAChDE,EAAY,GAUhB,OATIJ,IACAI,EAAYA,EAAUpN,OAAV,UAAoBgN,EAApB,cAA+BA,EAAQ,EAAI,IAAM,GAAjD,OAEZ3N,IACA+N,EAAYA,EAAUpN,OAAV,UAAoBX,EAApB,eAAkCA,EAAU,EAAI,IAAM,GAAtD,OAEZ8N,IACAC,EAAYA,EAAUpN,OAAV,UAAoBmN,EAApB,eAAmCA,EAAW,EAAI,IAAM,GAAxD,OAETC,KAGXhB,OAAIW,OAAO,qBAAsBnO,EAAOC,oBACxCuN,OAAIW,OAAO,wBAAwB,SAAAjO,GAC/B,IAAKA,EACD,MAAO,IAEX,IAAMC,EAAe,IAAIC,KAAKF,GAAcG,cAAcC,OAAO,GAAI,GACrE,OAAOH,KAIX,IAAIqN,OAAI,CACJiB,WACAC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OAChBC,OAAO,S,oCC7CV,W,2DCAA,W","file":"js/app.0e4c638b.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('Principal')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-tabs',{attrs:{\"background-color\":\"cyan\",\"dark\":\"\",\"fixed-tabs\":\"\",\"icons-and-text\":\"\",\"center-active\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tabs-slider',{attrs:{\"color\":\"yellow\"}}),_c('v-tab',[_vm._v(\" Reportes \"),_c('v-icon',[_vm._v(\"mdi-file-table-box-multiple\")])],1),_c('v-tab',[_vm._v(\" Horarios \"),_c('v-icon',[_vm._v(\"mdi-clipboard-clock\")])],1),_c('v-tab',[_vm._v(\" Unidades \"),_c('v-icon',[_vm._v(\"mdi-bus-clock\")])],1),_c('v-tab',[_vm._v(\" Rutas \"),_c('v-icon',[_vm._v(\"mdi-bus\")])],1),_c('v-tab',[_vm._v(\" Comisiones \"),_c('v-icon',[_vm._v(\"mdi-bus-clock\")])],1),_c('v-tab',[_vm._v(\" Acerca de \"),_c('v-icon',[_vm._v(\"mdi-information-outline\")])],1)],1),_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab-item',[_c('Reportes',{ref:\"reportes\"})],1),_c('v-tab-item',[_c('Horarios',{ref:\"horarios\"})],1),_c('v-tab-item',[_c('ReportePorUnidad')],1),_c('v-tab-item',[_c('Rutas',{on:{\"actualizadas\":_vm.actualizarRutasEnHorarios}})],1),_c('v-tab-item',[_c('comisiones')],1),_c('v-tab-item',[_c('AcercaDe')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('ConfirmarEliminacionRuta',{attrs:{\"ruta\":_vm.rutaSeleccionada,\"mostrar\":_vm.mostrarDialogoEliminar},on:{\"confirmado\":function($event){return _vm.eliminarRutaSeleccionada()},\"cerrar\":_vm.cerrarDialogo}}),_c('AgregarRuta',{attrs:{\"mostrar\":_vm.mostrarDialogoAgregar},on:{\"guardada\":_vm.onRutaGuardada,\"cerrar\":function($event){_vm.mostrarDialogoAgregar = false}}}),(_vm.rutas.length > 0)?_c('div',_vm._l((_vm.rutas),function(ruta,i){return _c('div',{key:i},[_c('v-list-item',{attrs:{\"two-line\":\"\"},on:{\"click\":function($event){return _vm.confirmarEliminacion(ruta)}}},[_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(ruta.nombre))])],1)],1),_c('v-divider')],1)}),0):_c('div',[_c('v-alert',{staticClass:\"mx-2 my-2\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\" Todavía no hay rutas. Agrega una con el botón flotante \")])],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"fab\":\"\",\"elevation\":\"2\",\"right\":\"\",\"bottom\":\"\",\"fixed\":\"\"},on:{\"click\":function($event){return _vm.mostrarDialogoAgregarRuta()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")])],1),_c('v-snackbar',{attrs:{\"top\":\"\",\"timeout\":\"700\"},model:{value:(_vm.snackbar.mostrar),callback:function ($$v) {_vm.$set(_vm.snackbar, \"mostrar\", $$v)},expression:\"snackbar.mostrar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.texto)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.mostrar),callback:function ($$v) {_vm.mostrar=$$v},expression:\"mostrar\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Confirmación \")]),_c('v-card-text',[_vm._v(\"¿Eliminar \"),_c('strong',[_vm._v(_vm._s(_vm.ruta.nombre))]),_vm._v(\"?\"),_c('br'),_vm._v(\" Se van a eliminar los horarios relacionados \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cerrar}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.confirmar}},[_vm._v(\" Eliminar \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog\r\n      v-model=\"mostrar\"\r\n      persistent\r\n      max-width=\"290\"\r\n  >\r\n    <v-card>\r\n      <v-card-title class=\"headline\">\r\n        Confirmación\r\n      </v-card-title>\r\n      <v-card-text>¿Eliminar <strong>{{ ruta.nombre }}</strong>?<br>\r\n        Se van a eliminar los horarios relacionados\r\n      </v-card-text>\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n\r\n        <v-btn\r\n            text\r\n            @click=\"cerrar\"\r\n        >\r\n          Cancelar\r\n        </v-btn>\r\n\r\n        <v-btn\r\n            color=\"red darken-1\"\r\n            text\r\n            @click=\"confirmar\"\r\n        >\r\n          Eliminar\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: [\"mostrar\", \"ruta\"],\r\n  name: \"ConfirmarEliminacionRuta\",\r\n  data: () => ({}),\r\n  methods: {\r\n    cerrar() {\r\n      this.$emit(\"cerrar\");\r\n    },\r\n    confirmar(){\r\n      this.$emit(\"confirmado\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmarEliminacionRuta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmarEliminacionRuta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConfirmarEliminacionRuta.vue?vue&type=template&id=6fe8b434&scoped=true&\"\nimport script from \"./ConfirmarEliminacionRuta.vue?vue&type=script&lang=js&\"\nexport * from \"./ConfirmarEliminacionRuta.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6fe8b434\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"290\"},model:{value:(_vm.mostrar),callback:function ($$v) {_vm.mostrar=$$v},expression:\"mostrar\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Nueva ruta \")]),_c('v-form',{ref:\"formulario\",staticClass:\"mx-2\",model:{value:(_vm.formularioValido),callback:function ($$v) {_vm.formularioValido=$$v},expression:\"formularioValido\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.reglasValidacion.nombre,\"label\":\"Nombre\",\"required\":\"\"},model:{value:(_vm.ruta.nombre),callback:function ($$v) {_vm.$set(_vm.ruta, \"nombre\", $$v)},expression:\"ruta.nombre\"}}),_c('v-text-field',{style:({backgroundColor:_vm.ruta.color}),attrs:{\"label\":\"Color\",\"type\":\"color\"},model:{value:(_vm.ruta.color),callback:function ($$v) {_vm.$set(_vm.ruta, \"color\", $$v)},expression:\"ruta.color\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":_vm.cerrar}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"disabled\":!_vm.formularioValido,\"text\":\"\"},on:{\"click\":_vm.guardar}},[_vm._v(\" Guardar \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import PouchDB from \"pouchdb\";\r\nimport PouchdbFind from 'pouchdb-find';\r\n\r\nPouchDB.plugin(PouchdbFind);\r\nconst db = new PouchDB('rutas');\r\n// Para poder ordenar por hora en los horarios\r\ndb.createIndex({\r\n    index: {fields: ['hora']}\r\n});\r\nexport default db;\r\n","const Utiles = {\r\n    milisegundosCortos(milisegundos) {\r\n        if (!milisegundos) {\r\n            return \"-\";\r\n        }\r\n        const transcurrido = new Date(milisegundos).toISOString().substr(14, 5);\r\n        return transcurrido;\r\n    },\r\n    sumarHorarios(hora, minutos) {\r\n        const fecha = this.formatearFechaActual();\r\n        const fechaYHoraA = new Date(fecha + \"T\" + hora);\r\n        return new Date(fechaYHoraA.getTime() + (minutos * 60 * 1000));\r\n    },\r\n    restarHorarios(a, b) {\r\n        const fecha = this.formatearFechaActual();\r\n        const fechaYHoraA = new Date(fecha + \"T\" + a);\r\n        const fechaYHoraB = new Date(fecha + \"T\" + b);\r\n        return fechaYHoraA - fechaYHoraB;\r\n    },\r\n    idConSufijo(tipo) {\r\n        return tipo.concat(\"_\", this.formatearFechaYHoraParaId());\r\n    },\r\n    formatearFechaYHoraParaId() {\r\n        const fecha = new Date();\r\n        const mes = fecha.getMonth() + 1; // Ya que los meses los cuenta desde el 0\r\n        const dia = fecha.getDate();\r\n        const fechaFormateada = `${fecha.getFullYear()}-${this.agregarCeroSiEsNecesario(mes)}-${this.agregarCeroSiEsNecesario(dia)}`;\r\n        const horaFormateada = `${this.agregarCeroSiEsNecesario(fecha.getHours())}_${this.agregarCeroSiEsNecesario(fecha.getMinutes())}_${this.agregarCeroSiEsNecesario(fecha.getSeconds())}`;\r\n        return fechaFormateada + \"_\" + horaFormateada;\r\n    },\r\n    formatearHoraActual() {\r\n        const fecha = new Date();\r\n        return `${this.agregarCeroSiEsNecesario(fecha.getHours())}:${this.agregarCeroSiEsNecesario(fecha.getMinutes())}:${this.agregarCeroSiEsNecesario(fecha.getSeconds())}`;\r\n    },\r\n\r\n    formatearFechaActual() {\r\n        const fecha = new Date();\r\n        const mes = fecha.getMonth() + 1; // Ya que los meses los cuenta desde el 0\r\n        const dia = fecha.getDate();\r\n        return `${fecha.getFullYear()}-${this.agregarCeroSiEsNecesario(mes)}-${this.agregarCeroSiEsNecesario(dia)}`;\r\n    },\r\n    agregarCeroSiEsNecesario(valor) {\r\n        if (valor < 10) {\r\n            return '0'.concat(valor);\r\n        }\r\n        return valor.toString();\r\n    }\r\n};\r\nexport default Utiles;","const TIPO_ROJO = \"Rojo\";\r\nconst TIPO_COMBI = \"R-3\";\r\n\r\nconst Constantes = {\r\n    TIPO_ROJO,\r\n    TIPO_COMBI,\r\n    TIPOS_UNIDAD: [TIPO_COMBI, TIPO_ROJO],\r\n    PREFIJO_RUTAS: \"rutas\",\r\n    PREFIJO_HORARIOS: \"horarios\",\r\n    PREFIJO_COMISIONES: \"comisiones\",\r\n    PREFIJO_UNIDADES_BAJADA: \"unidades_bajada\",\r\n    NUMEROS_PARA_COMISION: [\r\n        1, 2, 3, 4, 5, 6, 7, 8, 9, 10,\r\n        11, 12, 13, 14, 15, 16, 17, 18, 19, 20,\r\n        21, 22, 23, 24, 25, 27, 28, 29, 30,\r\n        31, 33, 34, 35, 36, 37, 38, 39, 40,\r\n        41, 42, 43, 46, 47\r\n    ],\r\n};\r\nexport default Constantes;","import db from \"@/BaseDeDatos\";\r\nimport Utiles from \"@/Utiles\";\r\nimport Constantes from \"@/Constantes\";\r\n\r\nconst HorariosService = {\r\n    async obtenerPorTipoUnidad(tipoUnidad) {\r\n        const horarios = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_HORARIOS,\r\n                    $lte: Constantes.PREFIJO_HORARIOS + \"\\ufff0\",\r\n                },\r\n                tipoUnidad,\r\n                hora: {\r\n                    $gte: null\r\n                },\r\n            },\r\n        });\r\n        return horarios.docs;\r\n    },\r\n    async obtenerPorTipoUnidadYNumero(tipoUnidad, numero) {\r\n        const horarios = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_HORARIOS,\r\n                    $lte: Constantes.PREFIJO_HORARIOS + \"\\ufff0\",\r\n                },\r\n                tipoUnidad, numero,\r\n                hora: {\r\n                    $gte: null\r\n                },\r\n            },\r\n        });\r\n        return horarios.docs;\r\n    },\r\n    async eliminarDeRuta(idRuta) {\r\n        const horarios = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_HORARIOS,\r\n                    $lte: Constantes.PREFIJO_HORARIOS + \"\\ufff0\",\r\n                },\r\n                idRuta,\r\n            }\r\n        });\r\n        for (const horario of horarios.docs) {\r\n            await db.remove(horario);\r\n        }\r\n    },\r\n    async nuevo(idRuta, fecha, hora, tipoUnidad, numero) {\r\n        return await db.put({\r\n            _id: Utiles.idConSufijo(Constantes.PREFIJO_HORARIOS),\r\n            idRuta, fecha, hora, tipoUnidad, numero\r\n        });\r\n    },\r\n\r\n    async obtenerNumerosPorFechaRutaYTipoUnidad(fecha, idRuta, tipoUnidad) {\r\n        const rutas = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_HORARIOS,\r\n                    $lte: Constantes.PREFIJO_HORARIOS + \"\\ufff0\",\r\n                },\r\n                fecha, idRuta, tipoUnidad,\r\n                hora: {\r\n                    $gte: null\r\n                },\r\n            },\r\n        });\r\n        return rutas.docs;\r\n    },\r\n    async obtenerPorFechaEIdRuta(fecha, idRuta) {\r\n        const rutas = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_HORARIOS,\r\n                    $lte: Constantes.PREFIJO_HORARIOS + \"\\ufff0\",\r\n                },\r\n                fecha, idRuta,\r\n                hora: {\r\n                    $gte: null\r\n                },\r\n            },\r\n            sort: [{ \"hora\": \"desc\" }],\r\n        });\r\n        return rutas.docs;\r\n    },\r\n    async obtenerUltimoHorarioRegistrado(fecha, idRuta) {\r\n        const rutas = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_HORARIOS,\r\n                    $lte: Constantes.PREFIJO_HORARIOS + \"\\ufff0\",\r\n                },\r\n                fecha, idRuta,\r\n                hora: {\r\n                    $gt: null,//null es menor que todas las cosas\r\n                }\r\n            },\r\n            sort: [{ \"hora\": \"desc\" }],\r\n            limit: 2,\r\n        });\r\n        const docs = rutas.docs;\r\n        if (docs.length <= 0) {\r\n            return \"\";\r\n        }\r\n        return docs.splice(0, 2);\r\n    },\r\n    async eliminar(documento) {\r\n        return await db.remove(documento);\r\n    }\r\n};\r\nexport default HorariosService;\r\n","import db from \"@/BaseDeDatos\";\r\nimport Utiles from \"@/Utiles\";\r\nimport Constantes from \"@/Constantes\";\r\nimport HorariosService from \"@/HorariosService\";\r\n\r\n\r\nconst RutasService = {\r\n    async nueva(nombre, color) {\r\n        return await db.put({\r\n            _id: Utiles.idConSufijo(Constantes.PREFIJO_RUTAS),\r\n            nombre, color\r\n        });\r\n    },\r\n    async obtener() {\r\n        const rutas = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_RUTAS,\r\n                    $lte: Constantes.PREFIJO_RUTAS + \"\\ufff0\",\r\n                }\r\n            }\r\n        });\r\n        return rutas.docs;\r\n    },\r\n    async eliminar(documento) {\r\n        await HorariosService.eliminarDeRuta(documento._id);\r\n        return await db.remove(documento);\r\n    }\r\n};\r\nexport default RutasService;","<template>\r\n\r\n  <v-dialog\r\n      v-model=\"mostrar\"\r\n      persistent\r\n      max-width=\"290\"\r\n  >\r\n    <v-card>\r\n      <v-card-title class=\"headline\">\r\n        Nueva ruta\r\n      </v-card-title>\r\n      <v-form\r\n          class=\"mx-2\"\r\n          ref=\"formulario\"\r\n          v-model=\"formularioValido\"\r\n      >\r\n        <v-text-field\r\n            v-model=\"ruta.nombre\"\r\n            :rules=\"reglasValidacion.nombre\"\r\n            label=\"Nombre\"\r\n            required\r\n        ></v-text-field>\r\n        <v-text-field :style=\"{backgroundColor:ruta.color}\" v-model=\"ruta.color\" label=\"Color\" type=\"color\">\r\n\r\n        </v-text-field>\r\n      </v-form>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n            text\r\n            @click=\"cerrar\"\r\n        >\r\n          Cancelar\r\n        </v-btn>\r\n\r\n        <v-btn\r\n            color=\"green darken-1\"\r\n            :disabled=\"!formularioValido\"\r\n            text\r\n            @click=\"guardar\"\r\n        >\r\n          Guardar\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport RutasService from \"@/RutasService\";\r\n\r\nexport default {\r\n  name: \"AgregarRuta\",\r\n  props: [\"mostrar\"],\r\n  data: () => ({\r\n    ruta: {\r\n      nombre: \"\",\r\n      color: \"ffffff\",\r\n    },\r\n    formularioValido: false,\r\n    reglasValidacion: {\r\n      nombre: [\r\n        (nombre) => {\r\n          if (!nombre) {\r\n            return \"Escribe el nombre\"\r\n          }\r\n          return true;\r\n        }\r\n      ],\r\n    }\r\n  }),\r\n  methods: {\r\n    antesDeCerrar() {\r\n      this.$refs.formulario.resetValidation();\r\n      this.$refs.formulario.reset();\r\n    },\r\n    cerrar() {\r\n      this.antesDeCerrar();\r\n      this.$emit(\"cerrar\");\r\n    },\r\n    async guardar() {\r\n      await RutasService.nueva(this.ruta.nombre, this.ruta.color);\r\n      this.ruta.nombre = \"\";\r\n      this.ruta.color = \"ffffff\";\r\n      this.antesDeCerrar();\r\n      this.$emit(\"guardada\");\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgregarRuta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgregarRuta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AgregarRuta.vue?vue&type=template&id=3a4423a8&\"\nimport script from \"./AgregarRuta.vue?vue&type=script&lang=js&\"\nexport * from \"./AgregarRuta.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardTitle,VDialog,VForm,VSpacer,VTextField})\n","<template>\r\n  <v-card flat>\r\n\r\n    <ConfirmarEliminacionRuta @confirmado=\"eliminarRutaSeleccionada()\" @cerrar=\"cerrarDialogo\"\r\n                              :ruta=\"rutaSeleccionada\"\r\n                              :mostrar=\"mostrarDialogoEliminar\"></ConfirmarEliminacionRuta>\r\n    <AgregarRuta @guardada=\"onRutaGuardada\" :mostrar=\"mostrarDialogoAgregar\"\r\n                 @cerrar=\"mostrarDialogoAgregar = false\"></AgregarRuta>\r\n    <div v-if=\"rutas.length > 0\">\r\n      <div v-for=\"(ruta, i) in rutas\" :key=\"i\">\r\n        <v-list-item @click=\"confirmarEliminacion(ruta)\" two-line>\r\n          <v-list-item-content>\r\n            <v-list-item-title>{{ ruta.nombre }}</v-list-item-title>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n        <v-divider></v-divider>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <v-alert\r\n          class=\"mx-2 my-2\"\r\n          dense\r\n          type=\"info\"\r\n      >\r\n        Todavía no hay rutas. Agrega una con el botón flotante\r\n      </v-alert>\r\n    </div>\r\n    <v-btn\r\n        color=\"primary\"\r\n        fab\r\n        elevation=\"2\"\r\n        right\r\n        bottom\r\n        fixed\r\n        @click=\"mostrarDialogoAgregarRuta()\"\r\n    >\r\n      <v-icon>mdi-plus</v-icon>\r\n    </v-btn>\r\n    <v-snackbar top timeout=\"700\" v-model=\"snackbar.mostrar\">\r\n      {{ snackbar.texto }}\r\n    </v-snackbar>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport ConfirmarEliminacionRuta from \"@/components/ConfirmarEliminacionRuta\";\r\nimport AgregarRuta from \"@/components/AgregarRuta\";\r\nimport RutasService from \"@/RutasService\";\r\n\r\nexport default {\r\n  name: \"Rutas\",\r\n  components: {AgregarRuta, ConfirmarEliminacionRuta},\r\n  data: () => ({\r\n    rutas: [],\r\n    rutaSeleccionada: {},\r\n    mostrarDialogoEliminar: false,\r\n    mostrarDialogoAgregar: false,\r\n    snackbar: {\r\n      mostrar: false,\r\n      texto: \"\",\r\n    }\r\n  }),\r\n  mounted() {\r\n    this.obtenerRutas();\r\n  },\r\n  methods: {\r\n    onRutaGuardada() {\r\n      this.snackbar.mostrar = true;\r\n      this.snackbar.texto = \"Ruta guardada\";\r\n      this.mostrarDialogoAgregar = false;\r\n      this.$emit(\"actualizadas\");\r\n      this.obtenerRutas();\r\n    },\r\n    mostrarDialogoAgregarRuta() {\r\n      this.mostrarDialogoAgregar = true;\r\n    },\r\n    confirmarEliminacion(ruta) {\r\n      this.rutaSeleccionada = ruta;\r\n      this.mostrarDialogoEliminar = true;\r\n    },\r\n    async eliminarRutaSeleccionada() {\r\n      await RutasService.eliminar(this.rutaSeleccionada);\r\n      this.rutaSeleccionada = {};\r\n      this.mostrarDialogoEliminar = false;\r\n      this.$emit(\"actualizadas\");\r\n      this.obtenerRutas();\r\n    },\r\n    cerrarDialogo() {\r\n      this.mostrarDialogoEliminar = false;\r\n    },\r\n    async obtenerRutas() {\r\n      this.rutas = await RutasService.obtener();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rutas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rutas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rutas.vue?vue&type=template&id=156af335&scoped=true&\"\nimport script from \"./Rutas.vue?vue&type=script&lang=js&\"\nexport * from \"./Rutas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"156af335\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VAlert,VBtn,VCard,VDivider,VIcon,VListItem,VListItemContent,VListItemTitle,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('DialogoAgregarHorario',{attrs:{\"ruta\":_vm.rutaSeleccionada,\"mostrar\":_vm.dialogoRegistrarHorario},on:{\"guardado\":_vm.onHorarioGuardado,\"cerrar\":function($event){_vm.dialogoRegistrarHorario = false}}}),_c('v-row',[_c('v-col',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.mostrarNotas),expression:\"mostrarNotas\"}],staticStyle:{\"padding\":\"0\"},attrs:{\"cols\":\"2\"}},[(_vm.rutasTemporales.length > 0)?_c('div',_vm._l((_vm.rutasTemporales),function(ruta,i){return _c('div',{key:i,on:{\"click\":function($event){return _vm.clickRutaTemporal(ruta)}}},[_c('v-list-item',{style:({\n              backgroundColor: ruta.marcada ? _vm.colorRutaTemporal : 'white',\n            }),attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticStyle:{\"font-size\":\"0.7rem\"}},[_c('strong',[_vm._v(_vm._s(ruta.nombre)),_c('br'),_vm._v(_vm._s(ruta.sufijo))])])],1)],1),_c('v-divider')],1)}),0):_vm._e(),_vm._l((_vm.horariosRojosParteInferior),function(horario,indice){return _c('v-btn',{key:indice,staticClass:\"white--text\",staticStyle:{\"border\":\"1px solid white !important\",\"display\":\"block\"},style:({ backgroundColor: horario.colorRuta }),attrs:{\"depressed\":\"\"}},[_vm._v(\" \"+_vm._s(horario.numero)+\" \")])})],2),_c('v-col',{attrs:{\"cols\":_vm.mostrarNotas ? 10 : 12}},[(_vm.rutas.length > 0)?_c('div',_vm._l((_vm.rutas),function(ruta,i){return _c('div',{key:i},[_c('v-list-item',{style:({ backgroundColor: ruta.color }),attrs:{\"three-line\":\"\"},on:{\"click\":function($event){return _vm.registrarHorario(ruta, i)}}},[_c('v-list-item-content',{staticStyle:{\"padding\":\"0\",\"margin\":\"0\"}},[_c('v-list-item-title',[_c('p',{staticStyle:{\"text-align\":\"right\",\"margin-bottom\":\"10px\"}},[_c('v-btn',{staticStyle:{\"padding\":\"0\",\"margin\":\"0\",\"min-width\":\"0px\",\"height\":\"16px\"},attrs:{\"color\":\"error\",\"depressed\":\"\"}},[_vm._v(_vm._s((ruta.informacionMicros[0] || {}).numero))]),_vm._v(\" \"+_vm._s((ruta.informacionMicros[0] || {}).hora)+\" \"),_c('strong',[_vm._v(\" \"+_vm._s(_vm._f(\"milisegundosCortos\")(_vm.diferenciaEntreMicros(ruta.informacionMicros)))+\" \")]),_c('v-btn',{staticStyle:{\"padding\":\"0\",\"margin\":\"0\",\"min-width\":\"0px\",\"height\":\"16px\"},attrs:{\"color\":\"error\",\"depressed\":\"\"}},[_vm._v(_vm._s((ruta.informacionMicros[1] || {}).numero))]),_c('strong',[_vm._v(\" \"+_vm._s(ruta.nombre)+\" \")])],1),(ruta.horarios)?_c('div',_vm._l((ruta.horarios),function(horarioReal,clave){return _c('v-row',{key:clave},[(clave === 0)?[_c('v-col',{staticStyle:{\"padding-bottom\":\"0 !important\",\"padding-top\":\"0 !important\",\"margin\":\"0 !important\"},attrs:{\"cols\":\"3\"}},[(clave === 0)?_c('TipoTransporte',{attrs:{\"horario\":horarioReal}}):_vm._e()],1),_c('v-col',{staticStyle:{\"padding-bottom\":\"0 !important\",\"padding-top\":\"0 !important\",\"margin\":\"0 !important\",\"font-size\":\"1.2rem\"},style:({\n                          backgroundColor:\n                            horarioReal.transcurrido >=\n                              _vm.rangoNotificacionInicio &&\n                            horarioReal.transcurrido <=\n                              _vm.rangoNotificacionFin &&\n                            clave === 0 &&\n                            _vm.esRojo(horarioReal)\n                              ? 'white'\n                              : 'inherit',\n                        }),attrs:{\"cols\":\"9\"}},[_vm._v(\" \"+_vm._s(horarioReal.hora)+\" | \"),_c('strong',{style:({\n                            fontSize: clave === 0 ? '1.5rem' : '1.2rem',\n                          })},[_vm._v(_vm._s(_vm._f(\"milisegundosCortos\")(horarioReal.transcurrido)))])])]:[_c('v-col',{staticStyle:{\"padding-top\":\"0 !important\",\"padding-bottom\":\"0 !important\",\"text-align\":\"right\"},attrs:{\"cols\":\"12\"}},[_c('p',[_vm._v(\" Se llevó \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"milisegundosConHoras\")(horarioReal.transcurrido)))]),_vm._v(\" de \"),_c('span',{style:({\n                              backgroundColor: _vm.esRojo(horarioReal)\n                                ? 'red'\n                                : 'inherit',\n                              border: _vm.esRojo(horarioReal)\n                                ? '1px solid white'\n                                : 'none',\n                            })},[_vm._v(_vm._s(horarioReal.tipoUnidad)+\":\"),_c('strong',[_vm._v(_vm._s(horarioReal.numero))])])])])]],2)}),1):_c('div',[_c('p',[_vm._v(\"Sin información de horario. Toca para agregar\")])])])],1)],1),_c('v-divider')],1)}),0):_c('div',[_c('v-alert',{staticClass:\"mx-2 my-2\",attrs:{\"dense\":\"\",\"type\":\"info\"}},[_vm._v(\" Todavía no hay rutas. Ve a \"),_c('strong',[_vm._v(\"Rutas\")]),_vm._v(\" y agrega algunas \")])],1)])],1),_c('v-snackbar',{attrs:{\"top\":\"\",\"timeout\":\"700\"},model:{value:(_vm.snackbar.mostrar),callback:function ($$v) {_vm.$set(_vm.snackbar, \"mostrar\", $$v)},expression:\"snackbar.mostrar\"}},[_vm._v(\" \"+_vm._s(_vm.snackbar.texto)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"350\"},model:{value:(_vm.mostrar),callback:function ($$v) {_vm.mostrar=$$v},expression:\"mostrar\"}},[_c('v-card',{staticClass:\"pt-2\"},[_c('v-container',[_c('v-text-field',{ref:\"campoNumero\",attrs:{\"label\":\"Número\",\"type\":\"number\"},model:{value:(_vm.numeroUnidad),callback:function ($$v) {_vm.numeroUnidad=$$v},expression:\"numeroUnidad\"}})],1),_c('v-alert',{staticClass:\"mx-2 my-2\",attrs:{\"dense\":\"\",\"type\":\"success\"}},[_c('strong',{staticClass:\"text-h4\"},[_vm._v(_vm._s(_vm.ruta.nombre)+\" | \"+_vm._s(_vm.numeroUnidad))])]),_c('v-switch',{attrs:{\"label\":\"Tomar hora actual\"},model:{value:(_vm.tomarHoraActual),callback:function ($$v) {_vm.tomarHoraActual=$$v},expression:\"tomarHoraActual\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tomarHoraActual),expression:\"!tomarHoraActual\"}]},[_c('v-time-picker',{attrs:{\"format\":\"ampm\",\"full-width\":\"\",\"use-seconds\":\"\"},model:{value:(_vm.horario),callback:function ($$v) {_vm.horario=$$v},expression:\"horario\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.horario),expression:\"!horario\"}]},[_c('p',[_vm._v(\"Por favor selecciona el horario\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.horario),expression:\"horario\"}]},[_vm._v(\" Se registrará con la hora: \"),_c('strong',[_vm._v(_vm._s(_vm.horario))])])],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.deberiaMostrarBotonMicro()),expression:\"deberiaMostrarBotonMicro()\"}],attrs:{\"dark\":\"\",\"color\":\"red\",\"large\":\"\"},on:{\"click\":function($event){return _vm.guardarMicro()}}},[_vm._v(\" Rojo \")]),_c('v-btn',{attrs:{\"large\":\"\",\"text\":\"\"},on:{\"click\":_vm.cerrar}},[_vm._v(\" Cancelar \")]),_c('v-btn',{attrs:{\"color\":\"blue \",\"large\":\"\",\"dark\":\"\"},on:{\"click\":function($event){return _vm.guardarCombi()}}},[_vm._v(\" R-3 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-dialog v-model=\"mostrar\" persistent max-width=\"350\">\r\n    <v-card class=\"pt-2\">\r\n      <v-container>\r\n        <v-text-field\r\n          ref=\"campoNumero\"\r\n          v-model=\"numeroUnidad\"\r\n          label=\"Número\"\r\n          type=\"number\"\r\n        ></v-text-field>\r\n      </v-container>\r\n      <v-alert class=\"mx-2 my-2\" dense type=\"success\">\r\n        <strong class=\"text-h4\">{{ ruta.nombre }} | {{ numeroUnidad }}</strong>\r\n      </v-alert>\r\n      <v-switch\r\n        v-model=\"tomarHoraActual\"\r\n        :label=\"`Tomar hora actual`\"\r\n      ></v-switch>\r\n\r\n      <div v-show=\"!tomarHoraActual\">\r\n        <v-time-picker\r\n          format=\"ampm\"\r\n          full-width\r\n          v-model=\"horario\"\r\n          use-seconds\r\n        ></v-time-picker>\r\n        <div v-show=\"!horario\">\r\n          <p>Por favor selecciona el horario</p>\r\n        </div>\r\n        <div v-show=\"horario\">\r\n          Se registrará con la hora: <strong>{{ horario }}</strong>\r\n        </div>\r\n      </div>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n          v-show=\"deberiaMostrarBotonMicro()\"\r\n          dark\r\n          color=\"red\"\r\n          large\r\n          @click=\"guardarMicro()\"\r\n        >\r\n          Rojo\r\n        </v-btn>\r\n        <v-btn @click=\"cerrar\" large text> Cancelar </v-btn>\r\n        <v-btn color=\"blue \" large dark @click=\"guardarCombi()\"> R-3 </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport Utiles from \"@/Utiles\";\r\nimport HorariosService from \"@/HorariosService\";\r\nimport Constantes from \"@/Constantes\";\r\nconst formateador = new Intl.DateTimeFormat(\"es-MX\", { timeStyle: \"medium\" });\r\nexport default {\r\n  props: [\"mostrar\", \"ruta\"],\r\n  name: \"DialogoAgregarHorario\",\r\n  data: () => ({\r\n    horario: \"\",\r\n    horaRefrescada: \"\",\r\n    idInterval: null,\r\n    tomarHoraActual: true,\r\n    tipos: [],\r\n    tipoUnidad: \"\",\r\n    numeroUnidad: \"\",\r\n  }),\r\n  mounted() {\r\n    this.tipos = Constantes.TIPOS_UNIDAD;\r\n    this.tipoUnidad = this.tipos[0];\r\n    this.idInterval = setInterval(() => {\r\n      this.refrescarHora();\r\n    }, 500);\r\n  },\r\n  beforeDestroy() {\r\n    console.log(\"Destroy!\");\r\n  },\r\n  watch: {\r\n    mostrar() {\r\n      if (this.mostrar) {\r\n        this.horario = formateador.format(new Date());\r\n        setTimeout(() => {\r\n          this.$refs.campoNumero.$refs.input.focus();\r\n        }, 50);\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    deberiaMostrarBotonMicro() {\r\n      if (!this.ruta.nombre) {\r\n        return true;\r\n      }\r\n      const rutas = [\r\n        \"talzintan\",\r\n        \"tezotepec\",\r\n        \"calicapan\",\r\n        \"sosa\",\r\n        \"san isidro\",\r\n        \"tacopan\",\r\n      ];\r\n      if (rutas.indexOf(this.ruta.nombre.toLowerCase()) === -1) {\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    guardarCombi() {\r\n      this.tipoUnidad = Constantes.TIPO_COMBI;\r\n      this.guardar();\r\n    },\r\n    guardarMicro() {\r\n      this.tipoUnidad = Constantes.TIPO_ROJO;\r\n      this.guardar();\r\n    },\r\n    antesDeCerrar() {\r\n      this.tipoUnidad = this.tipos[0];\r\n      this.numeroUnidad = \"\";\r\n      this.tomarHoraActual = true;\r\n    },\r\n    refrescarHora() {\r\n      this.horaRefrescada = Utiles.formatearHoraActual();\r\n    },\r\n    cerrar() {\r\n      this.antesDeCerrar();\r\n      this.$emit(\"cerrar\");\r\n    },\r\n    async guardar() {\r\n      if (!this.tomarHoraActual && !this.horario) {\r\n        return;\r\n      }\r\n      if (!this.numeroUnidad) {\r\n        return;\r\n      }\r\n      let verdaderoHorario = \"\";\r\n      if (this.tomarHoraActual) {\r\n        verdaderoHorario = Utiles.formatearHoraActual();\r\n      } else {\r\n        verdaderoHorario = this.horario;\r\n      }\r\n      await HorariosService.nuevo(\r\n        this.ruta._id,\r\n        Utiles.formatearFechaActual(),\r\n        verdaderoHorario,\r\n        this.tipoUnidad,\r\n        this.numeroUnidad\r\n      );\r\n      this.antesDeCerrar();\r\n      this.$emit(\"guardado\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogoAgregarHorario.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogoAgregarHorario.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogoAgregarHorario.vue?vue&type=template&id=61fa1d04&\"\nimport script from \"./DialogoAgregarHorario.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogoAgregarHorario.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTimePicker } from 'vuetify/lib/components/VTimePicker';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VContainer,VDialog,VSpacer,VSwitch,VTextField,VTimePicker})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{staticClass:\"white--text\",staticStyle:{\"border\":\"1px solid white !important\"},attrs:{\"color\":this.esRojo()? 'error' : 'info',\"depressed\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.horario.numero)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-btn\r\n        style=\"border: 1px solid white !important;\"\r\n        class=\"white--text\"\r\n        :color=\"this.esRojo()? 'error' : 'info'\"\r\n        depressed\r\n    >\r\n      {{ horario.numero }}\r\n    </v-btn>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Constantes from \"@/Constantes\";\r\n\r\nexport default {\r\n  name: \"TipoTransporte\",\r\n  props: [\"horario\"],\r\n  methods: {\r\n    esRojo() {\r\n      return this.horario.tipoUnidad === Constantes.TIPO_ROJO;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipoTransporte.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TipoTransporte.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TipoTransporte.vue?vue&type=template&id=15f24d78&scoped=true&\"\nimport script from \"./TipoTransporte.vue?vue&type=script&lang=js&\"\nexport * from \"./TipoTransporte.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15f24d78\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","<template>\r\n  <v-card flat>\r\n    <DialogoAgregarHorario\r\n      @guardado=\"onHorarioGuardado\"\r\n      :ruta=\"rutaSeleccionada\"\r\n      :mostrar=\"dialogoRegistrarHorario\"\r\n      @cerrar=\"dialogoRegistrarHorario = false\"\r\n    ></DialogoAgregarHorario>\r\n    <v-row>\r\n      <v-col style=\"padding: 0\" cols=\"2\" v-show=\"mostrarNotas\">\r\n        <div v-if=\"rutasTemporales.length > 0\">\r\n          <div\r\n            @click=\"clickRutaTemporal(ruta)\"\r\n            v-for=\"(ruta, i) in rutasTemporales\"\r\n            :key=\"i\"\r\n          >\r\n            <v-list-item\r\n              :style=\"{\r\n                backgroundColor: ruta.marcada ? colorRutaTemporal : 'white',\r\n              }\"\r\n              two-line\r\n            >\r\n              <v-list-item-content>\r\n                <v-list-item-title style=\"font-size: 0.7rem\">\r\n                  <strong>{{ ruta.nombre }}<br />{{ ruta.sufijo }}</strong>\r\n                </v-list-item-title>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n            <v-divider></v-divider>\r\n          </div>\r\n        </div>\r\n        <v-btn\r\n          v-for=\"(horario, indice) in horariosRojosParteInferior\"\r\n          :key=\"indice\"\r\n          style=\"border: 1px solid white !important; display: block\"\r\n          :style=\"{ backgroundColor: horario.colorRuta }\"\r\n          class=\"white--text\"\r\n          depressed\r\n        >\r\n          {{ horario.numero }}\r\n        </v-btn>\r\n      </v-col>\r\n      <v-col :cols=\"mostrarNotas ? 10 : 12\">\r\n        <div v-if=\"rutas.length > 0\">\r\n          <div v-for=\"(ruta, i) in rutas\" :key=\"i\">\r\n            <v-list-item\r\n              :style=\"{ backgroundColor: ruta.color }\"\r\n              @click=\"registrarHorario(ruta, i)\"\r\n              three-line\r\n            >\r\n              <v-list-item-content style=\"padding: 0; margin: 0\">\r\n                <v-list-item-title>\r\n                  <p style=\"text-align: right; margin-bottom: 10px\">\r\n                    <v-btn\r\n                      style=\"\r\n                        padding: 0;\r\n                        margin: 0;\r\n                        min-width: 0px;\r\n                        height: 16px;\r\n                      \"\r\n                      color=\"error\"\r\n                      depressed\r\n                      >{{ (ruta.informacionMicros[0] || {}).numero }}</v-btn\r\n                    >\r\n\r\n                    {{ (ruta.informacionMicros[0] || {}).hora }}\r\n                    <strong>\r\n                      {{\r\n                        diferenciaEntreMicros(ruta.informacionMicros)\r\n                          | milisegundosCortos\r\n                      }}\r\n                    </strong>\r\n\r\n                    <v-btn\r\n                      style=\"\r\n                        padding: 0;\r\n                        margin: 0;\r\n                        min-width: 0px;\r\n                        height: 16px;\r\n                      \"\r\n                      color=\"error\"\r\n                      depressed\r\n                      >{{ (ruta.informacionMicros[1] || {}).numero }}</v-btn\r\n                    >\r\n                    <strong>\r\n                      {{ ruta.nombre }}\r\n                    </strong>\r\n                  </p>\r\n                  <div v-if=\"ruta.horarios\">\r\n                    <v-row\r\n                      v-for=\"(horarioReal, clave) in ruta.horarios\"\r\n                      :key=\"clave\"\r\n                    >\r\n                      <template v-if=\"clave === 0\">\r\n                        <v-col\r\n                          style=\"\r\n                            padding-bottom: 0 !important;\r\n                            padding-top: 0 !important;\r\n                            margin: 0 !important;\r\n                          \"\r\n                          cols=\"3\"\r\n                        >\r\n                          <TipoTransporte\r\n                            :horario=\"horarioReal\"\r\n                            v-if=\"clave === 0\"\r\n                          ></TipoTransporte>\r\n                        </v-col>\r\n                        <v-col\r\n                          style=\"\r\n                            padding-bottom: 0 !important;\r\n                            padding-top: 0 !important;\r\n                            margin: 0 !important;\r\n                            font-size: 1.2rem;\r\n                          \"\r\n                          cols=\"9\"\r\n                          :style=\"{\r\n                            backgroundColor:\r\n                              horarioReal.transcurrido >=\r\n                                rangoNotificacionInicio &&\r\n                              horarioReal.transcurrido <=\r\n                                rangoNotificacionFin &&\r\n                              clave === 0 &&\r\n                              esRojo(horarioReal)\r\n                                ? 'white'\r\n                                : 'inherit',\r\n                          }\"\r\n                        >\r\n                          {{ horarioReal.hora }} |\r\n                          <strong\r\n                            :style=\"{\r\n                              fontSize: clave === 0 ? '1.5rem' : '1.2rem',\r\n                            }\"\r\n                            >{{\r\n                              horarioReal.transcurrido | milisegundosCortos\r\n                            }}</strong\r\n                          >\r\n                        </v-col>\r\n                      </template>\r\n                      <template v-else>\r\n                        <v-col\r\n                          cols=\"12\"\r\n                          style=\"\r\n                            padding-top: 0 !important;\r\n                            padding-bottom: 0 !important;\r\n                            text-align: right;\r\n                          \"\r\n                        >\r\n                          <p>\r\n                            Se llevó\r\n                            <strong>{{\r\n                              horarioReal.transcurrido | milisegundosConHoras\r\n                            }}</strong>\r\n                            de\r\n                            <span\r\n                              :style=\"{\r\n                                backgroundColor: esRojo(horarioReal)\r\n                                  ? 'red'\r\n                                  : 'inherit',\r\n                                border: esRojo(horarioReal)\r\n                                  ? '1px solid white'\r\n                                  : 'none',\r\n                              }\"\r\n                              >{{ horarioReal.tipoUnidad }}:<strong>{{\r\n                                horarioReal.numero\r\n                              }}</strong></span\r\n                            >\r\n                          </p>\r\n                        </v-col>\r\n                      </template>\r\n                    </v-row>\r\n                  </div>\r\n                  <div v-else>\r\n                    <p>Sin información de horario. Toca para agregar</p>\r\n                  </div>\r\n                </v-list-item-title>\r\n              </v-list-item-content>\r\n            </v-list-item>\r\n            <v-divider></v-divider>\r\n          </div>\r\n        </div>\r\n        <div v-else>\r\n          <v-alert class=\"mx-2 my-2\" dense type=\"info\">\r\n            Todavía no hay rutas. Ve a <strong>Rutas</strong> y agrega algunas\r\n          </v-alert>\r\n        </div>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-snackbar top timeout=\"700\" v-model=\"snackbar.mostrar\">\r\n      {{ snackbar.texto }}\r\n    </v-snackbar>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport RutasService from \"@/RutasService\";\r\nimport DialogoAgregarHorario from \"@/components/DialogoAgregarHorario\";\r\nimport HorariosService from \"@/HorariosService\";\r\nimport Utiles from \"@/Utiles\";\r\nimport TipoTransporte from \"@/components/TipoTransporte\";\r\nimport Constantes from \"@/Constantes\";\r\nconst CLAVE_LOCALSTORAGE = \"rutas_temporales\";\r\nconst COLOR_NARANJA = \"#C6FF00\";\r\nconst COLOR_MORADO = \"#FF1744\";\r\n\r\nlet diccionario = {};\r\nexport default {\r\n  name: \"Horarios\",\r\n  components: { TipoTransporte, DialogoAgregarHorario },\r\n  data: () => ({\r\n    colorRutaTemporal: COLOR_NARANJA,\r\n    ultimoIndice: null,\r\n    rangoNotificacionInicio: 360000, // 6 minutos (1000 milisegundos * 60 segundos * 6 minutos)\r\n    rangoNotificacionFin: 420000, // 6 minutos\r\n    snackbar: {\r\n      texto: \"\",\r\n      mostrar: false,\r\n    },\r\n    mostrarNotas: true,\r\n    dialogoRegistrarHorario: false,\r\n    rutas: [],\r\n    rutasTemporales: [\r\n      {\r\n        nombre: \"TACO\",\r\n        marcada: false,\r\n        sufijo: \"\",\r\n      },\r\n      {\r\n        nombre: \"TALZ\",\r\n        marcada: false,\r\n        sufijo: \"\",\r\n      },\r\n      {\r\n        nombre: \"TALB\",\r\n        marcada: false,\r\n        sufijo: \"\",\r\n      },\r\n      {\r\n        nombre: \"TEZO\",\r\n        marcada: false,\r\n        sufijo: \"\",\r\n      },\r\n      {\r\n        nombre: \"CALI\",\r\n        marcada: false,\r\n        sufijo: \"\",\r\n      },\r\n\r\n      {\r\n        nombre: \"SOSA\",\r\n        marcada: false,\r\n        sufijo: \"\",\r\n      },\r\n      {\r\n        nombre: \"SANI\",\r\n        marcada: false,\r\n        sufijo: \"\",\r\n      },\r\n    ],\r\n    rutaSeleccionada: {},\r\n    idInterval: null,\r\n    pausado: false,\r\n    horariosRojos: [],\r\n    horariosRojosParteInferior: [],\r\n  }),\r\n  async mounted() {\r\n    if (!localStorage.getItem(CLAVE_LOCALSTORAGE)) {\r\n      this.guardarRutasTemporales();\r\n    }\r\n    this.rutasTemporales = JSON.parse(localStorage.getItem(CLAVE_LOCALSTORAGE));\r\n    await this.obtenerRutas();\r\n    await this.obtenerReporteDeRojos();\r\n    this.iniciarIntervalRefrescarTiempo();\r\n  },\r\n  methods: {\r\n    obtenerRutaSegunId(id) {\r\n      return diccionario[id];\r\n    },\r\n    async obtenerReporteDeRojos() {\r\n      const horarios = await HorariosService.obtenerPorTipoUnidad(\r\n        Constantes.TIPO_ROJO\r\n      );\r\n      horarios.reverse();\r\n      horarios.forEach((horario) => {\r\n        const ruta = this.obtenerRutaSegunId(horario.idRuta);\r\n        horario.nombreRuta = ruta.nombre;\r\n        horario.colorRuta = ruta.color;\r\n      });\r\n      for (let i = horarios.length - 2; i >= 0; i--) {\r\n        const tiempoA = horarios[i].hora;\r\n        const tiempoB = horarios[i + 1].hora;\r\n        let diferenciaGeneral = Utiles.restarHorarios(tiempoA, tiempoB);\r\n        horarios[i].tiempoGeneral = diferenciaGeneral;\r\n      }\r\n      const diccionarioHoras = {};\r\n      for (let i = horarios.length - 1; i >= 0; i--) {\r\n        const tiempoA = horarios[i].hora;\r\n        const nombreRuta = horarios[i].nombreRuta;\r\n        horarios[i].tiempoMismaRuta = 0;\r\n        if (diccionarioHoras[nombreRuta]) {\r\n          horarios[i].tiempoMismaRuta = Utiles.restarHorarios(\r\n            tiempoA,\r\n            diccionarioHoras[nombreRuta]\r\n          );\r\n        }\r\n        diccionarioHoras[nombreRuta] = tiempoA;\r\n      }\r\n      this.horariosRojosParteInferior = horarios.slice(0, 8);\r\n    },\r\n    diferenciaEntreMicros(informacionMicros) {\r\n      if (informacionMicros.length < 2) {\r\n        return 0;\r\n      }\r\n      const primeraRuta = informacionMicros[0];\r\n      const segundaRuta = informacionMicros[1];\r\n      const primeraFecha = new Date(primeraRuta.fecha + \"T\" + primeraRuta.hora);\r\n      const segundaFecha = new Date(segundaRuta.fecha + \"T\" + segundaRuta.hora);\r\n      return primeraFecha - segundaFecha;\r\n    },\r\n    guardarRutasTemporales() {\r\n      localStorage.setItem(\r\n        CLAVE_LOCALSTORAGE,\r\n        JSON.stringify(this.rutasTemporales)\r\n      );\r\n    },\r\n    clickRutaTemporal(ruta) {\r\n      ruta.marcada = !ruta.marcada;\r\n      if (ruta.marcada) {\r\n        ruta.sufijo = prompt(\"Ingresa el texto: \");\r\n      } else {\r\n        ruta.sufijo = \"\";\r\n      }\r\n      this.guardarRutasTemporales();\r\n    },\r\n    esRojo(horario) {\r\n      return horario.tipoUnidad === Constantes.TIPO_ROJO;\r\n    },\r\n    intercambiarVista() {\r\n      this.mostrarNotas = !this.mostrarNotas;\r\n    },\r\n    clickBoton() {\r\n      if (this.pausado) {\r\n        this.iniciarIntervalRefrescarTiempo();\r\n        this.pausado = false;\r\n      } else {\r\n        clearInterval(this.idInterval);\r\n        this.pausado = true;\r\n      }\r\n    },\r\n    iniciarIntervalRefrescarTiempo() {\r\n      clearInterval(this.idInterval);\r\n      this.refrescarTiempoTranscurrido();\r\n      this.idInterval = setInterval(() => {\r\n        this.refrescarTiempoTranscurrido();\r\n      }, 1000);\r\n    },\r\n    refrescarTiempoTranscurrido() {\r\n      // Para parpadear\r\n      this.colorRutaTemporal =\r\n        this.colorRutaTemporal === COLOR_NARANJA ? COLOR_MORADO : COLOR_NARANJA;\r\n      // Para parpadear\r\n      const fechaActualComoCadena = Utiles.formatearFechaActual();\r\n      const fechaActual = new Date();\r\n      for (const ruta of this.rutas) {\r\n        let indice = 0;\r\n        for (const horario of ruta.horarios) {\r\n          horario.mostrarNotificacion = true;\r\n          if (!horario.hora) {\r\n            ruta.transcurrido = \"\";\r\n            continue;\r\n          }\r\n          const fechaUltimoHorario = new Date(\r\n            fechaActualComoCadena + \"T\" + horario.hora\r\n          );\r\n          horario.transcurrido = fechaActual - fechaUltimoHorario;\r\n          if (indice === 1) {\r\n            horario.transcurrido =\r\n              new Date(fechaActualComoCadena + \"T\" + ruta.horarios[0].hora) -\r\n              fechaUltimoHorario;\r\n          }\r\n          if (indice === 0) {\r\n            if (\r\n              horario.transcurrido >= this.rangoNotificacionInicio &&\r\n              horario.transcurrido <= this.rangoNotificacionFin &&\r\n              !horario.notificacionMostrada &&\r\n              this.esRojo(horario)\r\n            ) {\r\n              const nombreRuta = ruta.nombre;\r\n              const tipoUnidad = horario.tipoUnidad;\r\n              const numero = horario.numero;\r\n              const aviso = `${nombreRuta} ${tipoUnidad} ${numero}`;\r\n              this.$toasted.show(aviso, {\r\n                // theme: \"outline\",\r\n                position: \"bottom-center\",\r\n                duration: null,\r\n              });\r\n              horario.notificacionMostrada = true;\r\n            } else if (\r\n              horario.transcurrido > this.rangoNotificacionFin &&\r\n              this.esRojo(horario)\r\n            ) {\r\n              horario.notificacionMostrada = false;\r\n            }\r\n          }\r\n          indice++;\r\n        }\r\n      }\r\n    },\r\n    async onHorarioGuardado() {\r\n      this.snackbar = {\r\n        texto: \"Horario guardado\",\r\n        mostrar: true,\r\n      };\r\n      this.dialogoRegistrarHorario = false;\r\n      // this.$emit(\"actualizados\");\r\n      this.colocarHorarioARuta(this.ultimoIndice);\r\n      await this.colocarInformacionMicros();\r\n      this.obtenerReporteDeRojos();\r\n    },\r\n    registrarHorario(ruta, indice) {\r\n      this.ultimoIndice = indice;\r\n      this.rutaSeleccionada = ruta;\r\n      this.dialogoRegistrarHorario = true;\r\n    },\r\n    async colocarHorarioARuta(indice) {\r\n      const fechaActual = Utiles.formatearFechaActual();\r\n      const horarios = await HorariosService.obtenerUltimoHorarioRegistrado(\r\n        fechaActual,\r\n        this.rutas[indice]._id\r\n      );\r\n      for (const horario of horarios) {\r\n        horario.transcurrido = 0;\r\n      }\r\n      this.rutas[indice].horarios = horarios;\r\n    },\r\n    obtenerUltimosRojos(idRuta) {\r\n      const ultimos = [];\r\n      let contadorEncontrados = 0;\r\n      for (let i = this.horariosRojos.length - 1; i >= 0; i--) {\r\n        const rojo = this.horariosRojos[i];\r\n        if (rojo.idRuta === idRuta) {\r\n          ultimos.push(rojo);\r\n          contadorEncontrados++;\r\n        }\r\n        if (contadorEncontrados >= 2) {\r\n          return ultimos;\r\n        }\r\n      }\r\n      return ultimos;\r\n    },\r\n    async colocarInformacionMicros() {\r\n      this.horariosRojos = await HorariosService.obtenerPorTipoUnidad(\r\n        Constantes.TIPO_ROJO\r\n      );\r\n      for (const ruta of this.rutas) {\r\n        ruta.informacionMicros = this.obtenerUltimosRojos(ruta._id);\r\n      }\r\n    },\r\n    async obtenerRutas() {\r\n      diccionario = {};\r\n      const fechaActual = Utiles.formatearFechaActual();\r\n      const rutas = await RutasService.obtener();\r\n      for (const ruta of rutas) {\r\n        diccionario[ruta._id] = ruta;\r\n        const horarios = await HorariosService.obtenerUltimoHorarioRegistrado(\r\n          fechaActual,\r\n          ruta._id\r\n        );\r\n        for (const horario of horarios) {\r\n          horario.transcurrido = 0;\r\n        }\r\n        ruta.horarios = horarios;\r\n        ruta.informacionMicros = this.obtenerUltimosRojos(ruta._id);\r\n        ruta.transcurrido = 0;\r\n        ruta.marcada = false;\r\n      }\r\n      this.rutas = rutas;\r\n      await this.colocarInformacionMicros();\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Horarios.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Horarios.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Horarios.vue?vue&type=template&id=1da29e88&\"\nimport script from \"./Horarios.vue?vue&type=script&lang=js&\"\nexport * from \"./Horarios.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSnackbar } from 'vuetify/lib/components/VSnackbar';\ninstallComponents(component, {VAlert,VBtn,VCard,VCol,VDivider,VListItem,VListItemContent,VListItemTitle,VRow,VSnackbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticStyle:{\"margin\":\"0 40px 0 40px\"},style:({ backgroundColor: _vm.colorFondo }),attrs:{\"flat\":\"\"}},[_c('v-select',{attrs:{\"items\":_vm.rutas,\"item-text\":\"nombre\",\"item-value\":\"_id\",\"label\":\"Ruta\",\"no-data-text\":\"No has registrado ninguna ruta\"},on:{\"change\":function($event){return _vm.obtenerHorariosConFechaYRutaSeleccionada()}},scopedSlots:_vm._u([{key:\"item\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('h1',{staticStyle:{\"min-width\":\"100%\",\"padding\":\"10px\"},style:({ backgroundColor: item.color })},[_vm._v(\" \"+_vm._s(item.nombre)+\" \")])]}}]),model:{value:(_vm.rutaSeleccionada),callback:function ($$v) {_vm.rutaSeleccionada=$$v},expression:\"rutaSeleccionada\"}}),_c('v-slider',{attrs:{\"min\":\"40\",\"max\":\"70\",\"step\":\"5\",\"thumb-label\":\"always\"},model:{value:(_vm.minutosSuma),callback:function ($$v) {_vm.minutosSuma=$$v},expression:\"minutosSuma\"}}),(_vm.horarios.length > 0)?_c('div',[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('h6',{staticClass:\"text-h5 mb-2\"},[_vm._v(\" Promedio R3: \"+_vm._s(_vm._f(\"milisegundosCortos\")(_vm.promedios.combi))+\" \")])]),_c('v-divider'),_vm._l((_vm.horarios),function(horario,i){return _c('div',{key:i},[_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title'),_c('v-row',[_c('v-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"cols\":\"4\"}},[_c('TipoTransporte',{attrs:{\"horario\":horario}})],1),_c('v-col',{staticStyle:{\"font-size\":\"1rem\"},attrs:{\"cols\":\"8\"}},[_c('v-icon',[_vm._v(\"mdi-clock-outline\")]),_vm._v(\" \"+_vm._s(horario.hora)+\" | \"),_c('strong',{staticStyle:{\"font-size\":\"1.3rem\"}},[_vm._v(_vm._s(_vm._f(\"milisegundosCortos\")(horario.tiempoGeneral)))]),_c('br'),_vm._v(\" Predicción: \"),_c('strong',[_vm._v(_vm._s(_vm._f(\"formatearFecha\")(_vm.sumarConTiempoSeleccionado(horario.hora))))])],1)],1)],1)],1),_c('v-divider')],1)})],2):_c('div',[_c('v-alert',{attrs:{\"type\":\"info\"}},[_vm._v(\" No hay horarios para la fecha y ruta seleccionados \")])],1),_c('v-btn',{attrs:{\"color\":\"primary\",\"fab\":\"\",\"elevation\":\"2\",\"right\":\"\",\"bottom\":\"\",\"fixed\":\"\"},on:{\"click\":function($event){return _vm.generarPdf()}}},[_c('v-icon',[_vm._v(\"mdi-file-pdf\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card\r\n    :style=\"{ backgroundColor: colorFondo }\"\r\n    style=\"margin: 0 40px 0 40px\"\r\n    flat\r\n  >\r\n    <v-select\r\n      @change=\"obtenerHorariosConFechaYRutaSeleccionada()\"\r\n      :items=\"rutas\"\r\n      item-text=\"nombre\"\r\n      item-value=\"_id\"\r\n      label=\"Ruta\"\r\n      v-model=\"rutaSeleccionada\"\r\n      no-data-text=\"No has registrado ninguna ruta\"\r\n    >\r\n      <template v-slot:item=\"{ item }\">\r\n        <h1\r\n          style=\"min-width: 100%; padding: 10px\"\r\n          :style=\"{ backgroundColor: item.color }\"\r\n        >\r\n          {{ item.nombre }}\r\n        </h1>\r\n      </template>\r\n    </v-select>\r\n    <v-slider\r\n      min=\"40\"\r\n      max=\"70\"\r\n      step=\"5\"\r\n      v-model=\"minutosSuma\"\r\n      thumb-label=\"always\"\r\n    ></v-slider>\r\n    <div v-if=\"horarios.length > 0\">\r\n      <v-row justify=\"center\">\r\n        <h6 class=\"text-h5 mb-2\">\r\n          Promedio R3: {{ promedios.combi | milisegundosCortos }}\r\n        </h6>\r\n      </v-row>\r\n      <v-divider></v-divider>\r\n      <div v-for=\"(horario, i) in horarios\" :key=\"i\">\r\n        <v-list-item two-line>\r\n          <v-list-item-content>\r\n            <v-list-item-title> </v-list-item-title>\r\n            <v-row>\r\n              <v-col cols=\"4\" style=\"text-align: right\">\r\n                <TipoTransporte :horario=\"horario\"></TipoTransporte>\r\n              </v-col>\r\n              <v-col cols=\"8\" style=\"font-size: 1rem\">\r\n                <v-icon>mdi-clock-outline</v-icon>\r\n                {{ horario.hora }} |\r\n                <strong style=\"font-size: 1.3rem\">{{\r\n                  horario.tiempoGeneral | milisegundosCortos\r\n                }}</strong>\r\n                <br />\r\n                Predicción:\r\n                <strong>{{\r\n                  sumarConTiempoSeleccionado(horario.hora) | formatearFecha\r\n                }}</strong>\r\n              </v-col>\r\n            </v-row>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n        <v-divider></v-divider>\r\n      </div>\r\n    </div>\r\n    <div v-else>\r\n      <v-alert type=\"info\">\r\n        No hay horarios para la fecha y ruta seleccionados\r\n      </v-alert>\r\n    </div>\r\n    <v-btn\r\n      color=\"primary\"\r\n      fab\r\n      elevation=\"2\"\r\n      right\r\n      bottom\r\n      fixed\r\n      @click=\"generarPdf()\"\r\n    >\r\n      <v-icon>mdi-file-pdf</v-icon>\r\n    </v-btn>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport RutasService from \"@/RutasService\";\r\nimport Utiles from \"@/Utiles\";\r\nimport HorariosService from \"@/HorariosService\";\r\nimport TipoTransporte from \"@/components/TipoTransporte\";\r\nimport Constantes from \"@/Constantes\";\r\nimport { PDFDocument, StandardFonts, rgb } from \"pdf-lib\";\r\nconst formateador = new Intl.DateTimeFormat(\"es-MX\", {\r\n  dateStyle: \"short\",\r\n  //timeStyle: \"medium\",\r\n});\r\nexport default {\r\n  name: \"Reportes\",\r\n  components: { TipoTransporte },\r\n  data: () => ({\r\n    fechaSeleccionada: \"\",\r\n    rutas: [],\r\n    modal: false,\r\n    rutaSeleccionada: \"\",\r\n    horarios: [],\r\n    promedios: {\r\n      rojo: \"\",\r\n      combi: \"\",\r\n      general: \"\",\r\n    },\r\n    TIPO_COMBI: Constantes.TIPO_COMBI,\r\n    minutosSuma: null,\r\n  }),\r\n  async mounted() {\r\n    //this.createPdf();\r\n    await this.obtenerRutas();\r\n    this.fechaSeleccionada = Utiles.formatearFechaActual();\r\n    // await this.refrescarTodo();\r\n  },\r\n  computed: {\r\n    colorFondo() {\r\n      const ruta = this.rutas.find((ruta) => {\r\n        return ruta._id === this.rutaSeleccionada;\r\n      });\r\n      if (ruta) {\r\n        return ruta.color;\r\n      } else {\r\n        return \"#ffffff\";\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async generarPdf() {\r\n      const fecha = formateador.format(new Date());\r\n      const pdfDoc = await PDFDocument.create();\r\n      const timesRomanFont = await pdfDoc.embedFont(StandardFonts.TimesRoman);\r\n\r\n      let page = pdfDoc.addPage();\r\n      const colorNegro = rgb(0, 0, 0);\r\n      const linea =\r\n        \"______________________________________________________________\";\r\n      const parrafos = [\r\n        {\r\n          texto:\r\n            \"Reporte de ruta \" + this.nombreDeRutaPorId(this.rutaSeleccionada),\r\n          tamaño: 20,\r\n          color: colorNegro,\r\n        },\r\n        {\r\n          texto: \"Fecha: \" + fecha,\r\n          tamaño: 20,\r\n          color: colorNegro,\r\n        },\r\n      ];\r\n      let y = page.getHeight() - parrafos[0].tamaño;\r\n      for (const parrafo of parrafos) {\r\n        page.drawText(parrafo.texto, {\r\n          x: 20,\r\n          y: y,\r\n          size: parrafo.tamaño,\r\n          font: timesRomanFont,\r\n          color: parrafo.color,\r\n        });\r\n        y -= parrafo.tamaño;\r\n        if (y - parrafo.tamaño <= 0) {\r\n          page = pdfDoc.addPage();\r\n          y = page.getHeight() - parrafo.tamaño;\r\n        }\r\n      }\r\n      const inicioUnidad = 20,\r\n        inicioHora = 150,\r\n        inicioTiempoGeneral = 250,\r\n        inicioTiempoMismaUnidad = 350;\r\n      const tamañoFuenteTiempos = 15;\r\n      page.drawText(\"Unidad\", {\r\n        x: inicioUnidad,\r\n        y: y,\r\n        size: tamañoFuenteTiempos,\r\n        font: timesRomanFont,\r\n        color: colorNegro,\r\n      });\r\n      page.drawText(\"Hora\", {\r\n        x: inicioHora,\r\n        y: y,\r\n        size: tamañoFuenteTiempos,\r\n        font: timesRomanFont,\r\n        color: colorNegro,\r\n      });\r\n      page.drawText(\"Tiempo gral.\", {\r\n        x: inicioTiempoGeneral,\r\n        y: y,\r\n        size: tamañoFuenteTiempos,\r\n        font: timesRomanFont,\r\n        color: colorNegro,\r\n      });\r\n      page.drawText(\"Tiempo misma unidad\", {\r\n        x: inicioTiempoMismaUnidad,\r\n        y: y,\r\n        size: tamañoFuenteTiempos,\r\n        font: timesRomanFont,\r\n        color: colorNegro,\r\n      });\r\n      y -= 1;\r\n      page.drawText(linea, {\r\n        x: inicioUnidad,\r\n        y: y,\r\n        size: tamañoFuenteTiempos,\r\n        font: timesRomanFont,\r\n        color: colorNegro,\r\n      });\r\n      y -= tamañoFuenteTiempos + 10;\r\n\r\n      let contador = 0;\r\n      for (const horario of this.horarios) {\r\n        contador += 1;\r\n        page.drawText(\r\n          \"\" + contador + \". \" + horario.tipoUnidad + \" \" + horario.numero,\r\n          {\r\n            x: inicioUnidad,\r\n            y: y,\r\n            size: tamañoFuenteTiempos,\r\n            font: timesRomanFont,\r\n            color: colorNegro,\r\n          }\r\n        );\r\n        page.drawText(horario.hora, {\r\n          x: inicioHora,\r\n          y: y,\r\n          size: tamañoFuenteTiempos,\r\n          font: timesRomanFont,\r\n          color: colorNegro,\r\n        });\r\n\r\n        page.drawText(Utiles.milisegundosCortos(horario.tiempoGeneral), {\r\n          x: inicioTiempoGeneral,\r\n          y: y,\r\n          size: tamañoFuenteTiempos,\r\n          font: timesRomanFont,\r\n          color: colorNegro,\r\n        });\r\n        page.drawText(Utiles.milisegundosCortos(horario.tiempoMismoTipo), {\r\n          x: inicioTiempoMismaUnidad,\r\n          y: y,\r\n          size: tamañoFuenteTiempos,\r\n          font: timesRomanFont,\r\n          color: colorNegro,\r\n        });\r\n        y -= 1;\r\n        page.drawText(linea, {\r\n          x: inicioUnidad,\r\n          y: y,\r\n          size: tamañoFuenteTiempos,\r\n          font: timesRomanFont,\r\n          color: colorNegro,\r\n        });\r\n        y -= tamañoFuenteTiempos + 10;\r\n        if (y - tamañoFuenteTiempos <= 0) {\r\n          page = pdfDoc.addPage();\r\n          y = page.getHeight() - tamañoFuenteTiempos;\r\n        }\r\n      }\r\n\r\n      const pdfBytes = await pdfDoc.save();\r\n      const blob = new Blob([pdfBytes], {\r\n        type: \"application/pdf\",\r\n      });\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement(\"a\");\r\n      a.href = url;\r\n      a.download =\r\n        this.nombreDeRutaPorId(this.rutaSeleccionada) + \"_\" + fecha + \".pdf\";\r\n      document.body.appendChild(a);\r\n      a.style.display = \"none\";\r\n      a.click();\r\n      a.remove();\r\n    },\r\n    sumarConTiempoSeleccionado(hora) {\r\n      return Utiles.sumarHorarios(hora, this.minutosSuma);\r\n    },\r\n    async refrescarTodo() {\r\n      await this.obtenerRutas();\r\n      if (this.rutas.length > 0) {\r\n        this.rutaSeleccionada = this.rutas[0]._id;\r\n      }\r\n      await this.obtenerHorariosConFechaYRutaSeleccionada();\r\n    },\r\n    async obtenerRutas() {\r\n      this.rutas = await RutasService.obtener();\r\n    },\r\n    nombreDeRutaPorId(id) {\r\n      for (const ruta of this.rutas) {\r\n        if (ruta._id == id) {\r\n          return ruta.nombre;\r\n        }\r\n      }\r\n    },\r\n    async obtenerHorariosConFechaYRutaSeleccionada() {\r\n      if (!this.fechaSeleccionada || !this.rutaSeleccionada) {\r\n        return;\r\n      }\r\n      const horarios = await HorariosService.obtenerPorFechaEIdRuta(\r\n        this.fechaSeleccionada,\r\n        this.rutaSeleccionada\r\n      );\r\n      if (horarios.length > 0) {\r\n        let ultimaHoraRojo = \"\";\r\n        let ultimaHoraCombi = \"\";\r\n        let sumatoriaRojo = 0;\r\n        let sumatoriaCombi = 0;\r\n        let sumatoriaGeneral = 0;\r\n        let contadorRojo = 0;\r\n        let contadorCombi = 0;\r\n        if (horarios[horarios.length - 1].tipoUnidad === Constantes.TIPO_ROJO) {\r\n          ultimaHoraRojo = horarios[horarios.length - 1].hora;\r\n        } else {\r\n          ultimaHoraCombi = horarios[horarios.length - 1].hora;\r\n        }\r\n\r\n        for (let i = horarios.length - 2; i >= 0; i--) {\r\n          const tiempoA = horarios[i].hora;\r\n          const tiempoB = horarios[i + 1].hora;\r\n          let diferenciaGeneral = Utiles.restarHorarios(tiempoA, tiempoB);\r\n          sumatoriaGeneral += diferenciaGeneral;\r\n          horarios[i].tiempoGeneral = diferenciaGeneral;\r\n          if (horarios[i].tipoUnidad === Constantes.TIPO_ROJO) {\r\n            if (ultimaHoraRojo) {\r\n              let diferencia = Utiles.restarHorarios(tiempoA, ultimaHoraRojo);\r\n              sumatoriaRojo += diferencia;\r\n              contadorRojo++;\r\n              horarios[i].tiempoMismoTipo = diferencia;\r\n            }\r\n            ultimaHoraRojo = tiempoA;\r\n          } else {\r\n            if (ultimaHoraCombi) {\r\n              let diferencia = Utiles.restarHorarios(tiempoA, ultimaHoraCombi);\r\n              sumatoriaCombi += diferencia;\r\n              contadorCombi++;\r\n              horarios[i].tiempoMismoTipo = diferencia;\r\n            }\r\n            ultimaHoraCombi = tiempoA;\r\n          }\r\n        }\r\n        this.promedios.general = sumatoriaGeneral / (horarios.length - 1);\r\n        this.promedios.rojo = sumatoriaRojo / contadorRojo;\r\n        this.promedios.combi = sumatoriaCombi / contadorCombi;\r\n      }\r\n      this.horarios = horarios;\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reportes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Reportes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Reportes.vue?vue&type=template&id=3d01eb9b&\"\nimport script from \"./Reportes.vue?vue&type=script&lang=js&\"\nexport * from \"./Reportes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\ninstallComponents(component, {VAlert,VBtn,VCard,VCol,VDivider,VIcon,VListItem,VListItemContent,VListItemTitle,VRow,VSelect,VSlider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-1 my-1\",attrs:{\"flat\":\"\"}},[_c('v-row',[_c('v-col',[_c('v-select',{attrs:{\"items\":_vm.unidades,\"label\":\"Tipo de unidad\"},on:{\"change\":_vm.obtenerReporte},model:{value:(_vm.tipoUnidad),callback:function ($$v) {_vm.tipoUnidad=$$v},expression:\"tipoUnidad\"}})],1),_c('v-col',[_c('v-text-field',{attrs:{\"label\":\"Número\"},on:{\"change\":_vm.obtenerReporte,\"keyup\":_vm.obtenerReporte},model:{value:(_vm.numeroSeleccionado),callback:function ($$v) {_vm.numeroSeleccionado=$$v},expression:\"numeroSeleccionado\"}})],1)],1),_vm._l((_vm.horarios),function(horario,i){return _c('div',{key:i,style:({ backgroundColor: horario.colorRuta })},[_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title'),_c('v-row',[_c('v-col',{staticStyle:{\"text-align\":\"left\"},attrs:{\"cols\":\"4\"}},[_c('TipoTransporte',{attrs:{\"horario\":horario}}),_c('strong',{staticStyle:{\"font-size\":\"1.2rem\"}},[_vm._v(_vm._s(horario.nombreRuta))])],1),_c('v-col',{staticStyle:{\"font-size\":\"1rem\"},attrs:{\"cols\":\"8\"}},[_c('v-icon',[_vm._v(\"mdi-clock-outline\")]),_vm._v(\" \"+_vm._s(horario.hora)+\" | \"),_c('strong',{staticStyle:{\"font-size\":\"1.3rem\"}},[_vm._v(_vm._s(_vm._f(\"milisegundosConHoras\")(horario.tiempoGeneral)))])],1)],1)],1)],1),_c('v-divider')],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class=\"mx-1 my-1\" flat>\r\n    <v-row>\r\n      <v-col>\r\n        <v-select\r\n          :items=\"unidades\"\r\n          label=\"Tipo de unidad\"\r\n          v-model=\"tipoUnidad\"\r\n          @change=\"obtenerReporte\"\r\n        ></v-select>\r\n      </v-col>\r\n      <v-col>\r\n        <v-text-field\r\n          v-model=\"numeroSeleccionado\"\r\n          label=\"Número\"\r\n          @change=\"obtenerReporte\"\r\n          @keyup=\"obtenerReporte\"\r\n        ></v-text-field>\r\n      </v-col>\r\n    </v-row>\r\n    <div\r\n      v-for=\"(horario, i) in horarios\"\r\n      :key=\"i\"\r\n      :style=\"{ backgroundColor: horario.colorRuta }\"\r\n    >\r\n      <v-list-item two-line>\r\n        <v-list-item-content>\r\n          <v-list-item-title> </v-list-item-title>\r\n          <v-row>\r\n            <v-col cols=\"4\" style=\"text-align: left\">\r\n              <TipoTransporte :horario=\"horario\"></TipoTransporte>\r\n              <strong style=\"font-size: 1.2rem\">{{\r\n                horario.nombreRuta\r\n              }}</strong>\r\n            </v-col>\r\n            <v-col cols=\"8\" style=\"font-size: 1rem\">\r\n              <v-icon>mdi-clock-outline</v-icon>\r\n              {{ horario.hora }} |\r\n              <strong style=\"font-size: 1.3rem\">{{\r\n                horario.tiempoGeneral | milisegundosConHoras\r\n              }}</strong>\r\n            </v-col>\r\n          </v-row>\r\n        </v-list-item-content>\r\n      </v-list-item>\r\n      <v-divider></v-divider>\r\n    </div>\r\n  </v-card>\r\n</template>\r\n<script>\r\nimport HorariosService from \"../HorariosService\";\r\nimport RutasService from \"../RutasService\";\r\nimport Constantes from \"../Constantes\";\r\nimport Utiles from \"../Utiles\";\r\nimport TipoTransporte from \"./TipoTransporte\";\r\nlet diccionario = {};\r\nexport default {\r\n  components: { TipoTransporte },\r\n  data: () => ({\r\n    horarios: [],\r\n    rutas: [],\r\n    numeroSeleccionado: null,\r\n    tipoUnidad: null,\r\n    unidades: [Constantes.TIPO_ROJO, Constantes.TIPO_COMBI],\r\n  }),\r\n  mounted() {\r\n    this.obtenerRutas();\r\n    this.obtenerReporte();\r\n    this.tipoUnidad = this.unidades[1];\r\n  },\r\n  methods: {\r\n    obtenerNombreRutaSegunId(id) {\r\n      return diccionario[id].nombre;\r\n    },\r\n    obtenerColorRutaSegunId(id) {\r\n      return diccionario[id].color;\r\n    },\r\n    async obtenerRutas() {\r\n      diccionario = {};\r\n      const rutas = await RutasService.obtener();\r\n      rutas.forEach((ruta) => {\r\n        diccionario[ruta._id] = { nombre: ruta.nombre, color: ruta.color };\r\n      });\r\n    },\r\n    async obtenerReporte() {\r\n      if (!this.tipoUnidad || !this.numeroSeleccionado) return;\r\n      const horarios = await HorariosService.obtenerPorTipoUnidadYNumero(\r\n        this.tipoUnidad,\r\n        this.numeroSeleccionado\r\n      );\r\n\r\n      horarios.reverse();\r\n      horarios.forEach((horario) => {\r\n        horario.nombreRuta = this.obtenerNombreRutaSegunId(horario.idRuta);\r\n        horario.colorRuta = this.obtenerColorRutaSegunId(horario.idRuta);\r\n      });\r\n      for (let i = horarios.length - 2; i >= 0; i--) {\r\n        const tiempoA = horarios[i].hora;\r\n        const tiempoB = horarios[i + 1].hora;\r\n        let diferenciaGeneral = Utiles.restarHorarios(tiempoA, tiempoB);\r\n        horarios[i].tiempoGeneral = diferenciaGeneral;\r\n      }\r\n      this.horarios = horarios;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportePorUnidad.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportePorUnidad.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportePorUnidad.vue?vue&type=template&id=ee8090c6&\"\nimport script from \"./ReportePorUnidad.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportePorUnidad.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VCol,VDivider,VIcon,VListItem,VListItemContent,VListItemTitle,VRow,VSelect,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"py-6 px-6\",attrs:{\"flat\":\"\"}},[_c('v-alert',{attrs:{\"type\":\"info\"}},[_c('h2',[_vm._v(\"Acerca de\")]),_c('p',[_vm._v(\"Creado y mantenido por \"),_c('a',{staticClass:\"text-button\",attrs:{\"href\":\"https://parzibyte.me/blog\"}},[_vm._v(\"Parzibyte\")]),_vm._v(\". Código fuente disponible en \"),_c('a',{attrs:{\"href\":\"https://parzibyte.me/blog\"}},[_vm._v(\"parzibyte.me/blog\")])]),_c('h2',[_vm._v(\"Créditos\")]),_c('p',[_vm._v(\" Iconos diseñados por \"),_c('a',{attrs:{\"href\":\"https://www.freepik.com\",\"title\":\"Freepik\"}},[_vm._v(\"Freepik\")]),_vm._v(\" from \"),_c('a',{attrs:{\"href\":\"https://www.flaticon.es/\",\"title\":\"Flaticon\"}},[_vm._v(\"www.flaticon.es\")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class=\"py-6 px-6\" flat>\r\n    <v-alert type=\"info\">\r\n      <h2>Acerca de</h2>\r\n      <p>Creado y mantenido por <a class=\"text-button\" href=\"https://parzibyte.me/blog\">Parzibyte</a>.\r\n        Código fuente disponible en <a href=\"https://parzibyte.me/blog\">parzibyte.me/blog</a>\r\n      </p>\r\n      <h2>Créditos</h2>\r\n      <p> Iconos diseñados por <a href=\"https://www.freepik.com\" title=\"Freepik\">Freepik</a> from <a\r\n          href=\"https://www.flaticon.es/\" title=\"Flaticon\">www.flaticon.es</a>\r\n      </p>\r\n    </v-alert>\r\n\r\n\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AcercaDe\"\r\n}\r\n</script>\r\n\r\n<style scoped>\r\na {\r\n  color: white !important;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcercaDe.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcercaDe.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AcercaDe.vue?vue&type=template&id=109b8790&scoped=true&\"\nimport script from \"./AcercaDe.vue?vue&type=script&lang=js&\"\nexport * from \"./AcercaDe.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AcercaDe.vue?vue&type=style&index=0&id=109b8790&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"109b8790\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VCard } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VAlert,VCard})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{attrs:{\"flat\":\"\"}},[_c('DialogoAgregarComision',{attrs:{\"numero-unidad\":_vm.numeroUnidadSeleccionada,\"mostrar\":_vm.dialogoComision},on:{\"guardado\":_vm.onComisionGuardada,\"cerrar\":function($event){_vm.dialogoComision=false}}}),_c('h2',{staticClass:\"ml-2 mt-1\"},[_vm._v(\"Total: $\"+_vm._s(_vm.total())+\" \"),_c('v-btn',{staticClass:\"mb-3 ml-2 mt-1\",attrs:{\"color\":\"info\"},on:{\"click\":_vm.eliminarTodas}},[_vm._v(\"Eliminar todas\")])],1),_vm._l((_vm.unidades),function(unidad,indice){return _c('v-badge',{key:indice,staticClass:\"mx-3 mt-2\",attrs:{\"overlap\":\"\",\"bordered\":\"\",\"color\":\"success\",\"content\":unidad.comision}},[_c('v-btn',{attrs:{\"depressed\":\"\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.agregarComision(unidad)}}},[_vm._v(_vm._s(unidad.numero)+\" \")])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"persistent\":\"\",\"max-width\":\"350\"},model:{value:(_vm.mostrar),callback:function ($$v) {_vm.mostrar=$$v},expression:\"mostrar\"}},[_c('v-card',{staticClass:\"pt-2 pl-2\"},[_c('h2',[_vm._v(\"Unidad \"+_vm._s(_vm.numeroUnidad))]),_c('v-container',[_c('v-text-field',{ref:\"campoCantidad\",attrs:{\"label\":\"Comisión\",\"type\":\"number\"},model:{value:(_vm.comision),callback:function ($$v) {_vm.comision=$$v},expression:\"comision\"}})],1),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"success\",\"depressed\":\"\"},on:{\"click\":function($event){return _vm.guardar()}}},[_vm._v(\" Guardar \")]),_c('v-btn',{attrs:{\"large\":\"\",\"text\":\"\"},on:{\"click\":_vm.cerrar}},[_vm._v(\" Cancelar \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import db from \"@/BaseDeDatos\";\r\nimport Utiles from \"@/Utiles\";\r\nimport Constantes from \"@/Constantes\";\r\n\r\n\r\nconst ComisionesService = {\r\n    async nueva(numero, comision) {\r\n        comision = parseFloat(comision);\r\n        return await db.put({\r\n            _id: Utiles.idConSufijo(Constantes.PREFIJO_COMISIONES),\r\n            numero, comision\r\n        });\r\n    },\r\n    async obtener() {\r\n        const comisiones = await db.find({\r\n            selector: {\r\n                _id: {\r\n                    $gte: Constantes.PREFIJO_COMISIONES,\r\n                    $lte: Constantes.PREFIJO_COMISIONES + \"\\ufff0\",\r\n                },\r\n            }\r\n        });\r\n        return comisiones.docs;\r\n    },\r\n    async eliminarTodas() {\r\n        const comisiones = await ComisionesService.obtener();\r\n        for (const comision of comisiones) {\r\n            await db.remove(comision);\r\n        }\r\n    }\r\n};\r\nexport default ComisionesService;\r\n","<template>\r\n\r\n  <v-dialog\r\n      v-model=\"mostrar\"\r\n      persistent\r\n      max-width=\"350\"\r\n  >\r\n    <v-card class=\"pt-2 pl-2\">\r\n      <h2>Unidad {{ numeroUnidad }}</h2>\r\n      <v-container>\r\n        <v-text-field\r\n            ref=\"campoCantidad\"\r\n            v-model=\"comision\"\r\n            label=\"Comisión\"\r\n            type=\"number\"\r\n        ></v-text-field>\r\n      </v-container>\r\n\r\n      <v-card-actions>\r\n        <v-spacer></v-spacer>\r\n        <v-btn\r\n            dark\r\n            color=\"success\"\r\n            depressed\r\n            @click=\"guardar()\"\r\n        >\r\n          Guardar\r\n        </v-btn>\r\n        <v-btn\r\n            @click=\"cerrar\"\r\n            large\r\n            text\r\n        >\r\n          Cancelar\r\n        </v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\nimport ComisionesService from \"@/ComisionesService\";\r\n\r\nexport default {\r\n  name: \"DialogoAgregarComision\",\r\n  props: [\"numeroUnidad\", \"mostrar\"],\r\n  data: () => ({\r\n    comision: null,\r\n  }),\r\n  watch: {\r\n    mostrar() {\r\n      if (this.mostrar) {\r\n        setTimeout(() => {\r\n          this.$refs.campoCantidad.$refs.input.focus();\r\n        }, 50);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    cerrar() {\r\n      this.$emit(\"cerrar\");\r\n    },\r\n    async guardar() {\r\n      if (!this.comision) {\r\n        return;\r\n      }\r\n      await ComisionesService.nueva(this.numeroUnidad, this.comision);\r\n      this.comision = null;\r\n      this.$emit(\"guardado\");\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogoAgregarComision.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DialogoAgregarComision.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DialogoAgregarComision.vue?vue&type=template&id=dee37746&\"\nimport script from \"./DialogoAgregarComision.vue?vue&type=script&lang=js&\"\nexport * from \"./DialogoAgregarComision.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VContainer,VDialog,VSpacer,VTextField})\n","<template>\r\n  <v-card flat>\r\n\r\n    <DialogoAgregarComision @guardado=\"onComisionGuardada\" :numero-unidad=\"numeroUnidadSeleccionada\"\r\n                            :mostrar=\"dialogoComision\"\r\n                            @cerrar=\"dialogoComision=false\"></DialogoAgregarComision>\r\n    <h2 class=\"ml-2 mt-1\">Total: ${{ total() }}\r\n    <v-btn class=\"mb-3 ml-2 mt-1\" @click=\"eliminarTodas\" color=\"info\">Eliminar todas</v-btn>\r\n</h2>\r\n    <v-badge\r\n        overlap\r\n        bordered\r\n        color=\"success\"\r\n        class=\"mx-3 mt-2\"\r\n        :content=\"unidad.comision\"\r\n        v-for=\"(unidad, indice) in unidades\" :key=\"indice\"\r\n    >\r\n      <v-btn\r\n          @click=\"agregarComision(unidad)\"\r\n          depressed\r\n          color=\"error\" >{{ unidad.numero }}\r\n      </v-btn>\r\n    </v-badge>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport DialogoAgregarComision from \"@/components/DialogoAgregarComision\";\r\nimport Constantes from \"@/Constantes\";\r\nimport ComisionesService from \"@/ComisionesService\";\r\n\r\nlet diccionario = {};\r\n\r\nexport default {\r\n  name: \"Comisiones\",\r\n  components: {DialogoAgregarComision},\r\n  data: () => ({\r\n    unidades: [],\r\n    dialogoComision: false,\r\n    numeroUnidadSeleccionada: null,\r\n  }),\r\n  mounted() {\r\n    this.prepararArregloNumeros();\r\n    this.refrescarComisiones();\r\n  },\r\n  methods: {\r\n    async eliminarTodas() {\r\n      if (!confirm(\"¿Seguro?\")) {\r\n        return;\r\n      }\r\n      await ComisionesService.eliminarTodas();\r\n      this.prepararArregloNumeros();\r\n      await this.refrescarComisiones();\r\n    },\r\n    total() {\r\n      let total = 0;\r\n      for (const unidad of this.unidades) {\r\n        total += unidad.comision;\r\n      }\r\n      return total;\r\n    },\r\n    prepararArregloNumeros() {\r\n      const numeros = Constantes.NUMEROS_PARA_COMISION;\r\n      const unidades = [];\r\n      diccionario = {};\r\n      for (const [indice, numero] of numeros.entries()) {\r\n        diccionario[numero] = indice;\r\n        unidades.push({\r\n          numero,\r\n          comision: 0,\r\n        });\r\n      }\r\n      this.unidades = unidades;\r\n    },\r\n    async refrescarComisiones() {\r\n      const comisionesRegistradas = await ComisionesService.obtener();\r\n      console.log({comisionesRegistradas})\r\n      for (const comision of comisionesRegistradas) {\r\n        const posibleIndice = diccionario[comision.numero];\r\n        if (posibleIndice || posibleIndice === 0) {\r\n          this.unidades[posibleIndice].comision = comision.comision;\r\n        }\r\n      }\r\n    },\r\n    mostrarDialogoComision() {\r\n      this.dialogoComision = true;\r\n    },\r\n    agregarComision(unidad) {\r\n      if (unidad.comision > 0) {\r\n        return;\r\n      }\r\n      this.numeroUnidadSeleccionada = unidad.numero;\r\n      this.dialogoComision = true;\r\n    },\r\n    onComisionGuardada() {\r\n      this.dialogoComision = false;\r\n      this.refrescarComisiones();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comisiones.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comisiones.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comisiones.vue?vue&type=template&id=074b5fc6&scoped=true&\"\nimport script from \"./Comisiones.vue?vue&type=script&lang=js&\"\nexport * from \"./Comisiones.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"074b5fc6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBadge } from 'vuetify/lib/components/VBadge';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VBadge,VBtn,VCard})\n","<template>\r\n  <div>\r\n    <v-tabs\r\n      background-color=\"cyan\"\r\n      dark\r\n      fixed-tabs\r\n      v-model=\"tab\"\r\n      icons-and-text\r\n      center-active\r\n    >\r\n      <v-tabs-slider color=\"yellow\"></v-tabs-slider>\r\n      <v-tab>\r\n        Reportes\r\n        <v-icon>mdi-file-table-box-multiple</v-icon>\r\n      </v-tab>\r\n      <v-tab>\r\n        Horarios\r\n        <v-icon>mdi-clipboard-clock</v-icon>\r\n      </v-tab>\r\n      <v-tab>\r\n        Unidades\r\n        <v-icon>mdi-bus-clock</v-icon>\r\n      </v-tab>\r\n      <v-tab>\r\n        Rutas\r\n        <v-icon>mdi-bus</v-icon>\r\n      </v-tab>\r\n      <v-tab>\r\n        Comisiones\r\n        <v-icon>mdi-bus-clock</v-icon>\r\n      </v-tab>\r\n      <v-tab>\r\n        Acerca de\r\n        <v-icon>mdi-information-outline</v-icon>\r\n      </v-tab>\r\n    </v-tabs>\r\n    <v-tabs-items v-model=\"tab\">\r\n      <v-tab-item>\r\n        <Reportes ref=\"reportes\"></Reportes>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <Horarios ref=\"horarios\"></Horarios>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <ReportePorUnidad></ReportePorUnidad>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <Rutas @actualizadas=\"actualizarRutasEnHorarios\"></Rutas>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <comisiones></comisiones>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        <AcercaDe></AcercaDe>\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Rutas from \"@/components/Rutas\";\r\nimport Horarios from \"@/components/Horarios\";\r\nimport Reportes from \"@/components/Reportes\";\r\nimport ReportePorUnidad from \"@/components/ReportePorUnidad\";\r\nimport AcercaDe from \"@/components/AcercaDe\";\r\nimport Comisiones from './Comisiones.vue';\r\n\r\nexport default {\r\n  name: \"HelloWorld\",\r\n  components: {\r\n    AcercaDe,\r\n    Reportes,\r\n    Horarios,\r\n    Rutas,\r\n    ReportePorUnidad,\r\n    Comisiones,\r\n  },\r\n  data: () => ({\r\n    tab: 1,\r\n  }),\r\n  methods: {\r\n    actualizarReporte() {\r\n      this.$refs.reportes.refrescarTodo();\r\n    },\r\n    actualizarRutasEnHorarios() {\r\n      this.$refs.horarios.obtenerRutas();\r\n      // this.$refs.reportes.refrescarTodo();\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Principal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Principal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Principal.vue?vue&type=template&id=3bb5dc3c&\"\nimport script from \"./Principal.vue?vue&type=script&lang=js&\"\nexport * from \"./Principal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\nimport { VTabsSlider } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VIcon,VTab,VTabItem,VTabs,VTabsItems,VTabsSlider})\n","<template>\r\n  <v-app>\r\n    <v-main>\r\n      <Principal/>\r\n    </v-main>\r\n  </v-app>\r\n</template>\r\n\r\n<script>\r\nimport Principal from './components/Principal';\r\n\r\nexport default {\r\n  name: 'App',\r\n\r\n  components: {\r\n    Principal,\r\n  },\r\n\r\n  data: () => ({\r\n    //\r\n  }),\r\n};\r\n</script>\r\n<style lang=\"sass\">\r\n@import '../node_modules/typeface-roboto/index.css'\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a589a184&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","import '@mdi/font/css/materialdesignicons.css' // Ensure you are using css-loader\r\nimport Vue from 'vue'\r\nimport Vuetify from 'vuetify/lib'\r\n\r\nVue.use(Vuetify)\r\n\r\nexport default new Vuetify({\r\n    icons: {\r\n        iconfont: 'mdi', // default - only for display purposes\r\n    },\r\n})","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport vuetify from './plugins/vuetify';\r\nimport Toasted from 'vue-toasted';\r\nimport Utiles from './Utiles';\r\nconst formateador = new Intl.DateTimeFormat('es-MX', {  timeStyle: 'medium' });\r\nVue.use(Toasted);\r\nVue.config.productionTip = false\r\nVue.filter(\"formatearFecha\", (fecha) => {\r\n    return formateador.format(fecha);\r\n})\r\nVue.filter(\"milisegundosALegible\", milisegundos => {\r\n    if (!milisegundos) {\r\n        return \"-\";\r\n    }\r\n    const transcurrido = new Date(milisegundos).toISOString().substr(11, 8);\r\n    const horas = parseInt(transcurrido.substring(0, 2));\r\n    const minutos = parseInt(transcurrido.substring(3, 5));\r\n    const segundos = parseInt(transcurrido.substring(6, 8));\r\n    let respuesta = \"\";\r\n    if (horas) {\r\n        respuesta = respuesta.concat(`${horas} hr${horas > 1 ? 's' : ''} `);\r\n    }\r\n    if (minutos) {\r\n        respuesta = respuesta.concat(`${minutos} min${minutos > 1 ? 's' : ''} `);\r\n    }\r\n    if (segundos) {\r\n        respuesta = respuesta.concat(`${segundos} seg${segundos > 1 ? 's' : ''} `);\r\n    }\r\n    return respuesta;\r\n});\r\n\r\nVue.filter(\"milisegundosCortos\", Utiles.milisegundosCortos);\r\nVue.filter(\"milisegundosConHoras\", milisegundos => {\r\n    if (!milisegundos) {\r\n        return \"-\";\r\n    }\r\n    const transcurrido = new Date(milisegundos).toISOString().substr(11, 8);\r\n    return transcurrido;\r\n\r\n});\r\n\r\nnew Vue({\r\n    vuetify,\r\n    render: h => h(App)\r\n}).$mount('#app')\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AcercaDe.vue?vue&type=style&index=0&id=109b8790&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=sass&\""],"sourceRoot":""}